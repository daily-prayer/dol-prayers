<meta name="viewport" content="width=device-width, initial-scale=1">

<html>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IM+Fell+French+Canon+SC&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Baskervville&display=swap" rel="stylesheet"> 
    <style>
      body {
        background-color: #fffeef;
      }
      /* Define a class for title font */
      .title-text {
        font-family: 'IM Fell French Canon SC', serif;
        font-size: 60px;
        text-align: center;
      }
      /* Italic font */
      @font-face {
        font-family: Cataneo;
        src: url(font/Cataneo_Light_BT_400.ttf);
      }
      /* Define a class for the date */
      .date {
        font-family: Cataneo, serif;
        font-size: 18px;
        font-weight: 400;
        text-align: center;
        margin-top: 0px;
      }
      .ordinal-date {
        font-family: 'IM Fell French Canon SC', serif;
        font-size: 16px;
        text-align: center;
        margin-top: 0px;
        margin-bottom: 0px;
      }
      h3 {
        font-family: 'Baskervville', serif;
        font-size: 24px;
        text-align: center;
        margin-top: 0px;
        font-weight: 400;
      }
      p {
        font-family: 'Baskervville', serif;
        font-size: 16px;
        text-align: center;
        margin-top: 0px;
        font-weight: 400;        
      }
      .intro {
        font-family: 'IM Fell French Canon SC', serif;
        font-size: 18px;
        text-align: center;
        margin-top: 0px;        
      }
      .subhead {
        font-family: 'Baskervville', serif;
        font-size: 20px;
        text-align: center;
        margin-top: 0px;
        font-weight: 400;           
      }
      .versicle {
        font-family: 'Baskervville', serif;
        font-size: 16px;
        text-align: center;
        margin-top: 0px;
        margin-bottom: 0px;
        font-weight: 400;
      }

      .hymn, .second_hymn, .morning_psalm, .evening_psalm, .canticle, .second_canticle, .collect {
        font-family: 'Baskervville', serif;
        font-size: 16px;
        text-align: center;
        margin-top: 0px;
        margin-bottom: 0px;
        font-weight: 400;
      }

      .confession-button-container, .hail-button-container {
        text-align: center;
        margin-top: 24px;
        margin-bottom: 18px;
      }

      .confession-button-container button, .hail-button-container button {
        display: none; /* Hide the buttons by default */
      }

      .bc-confession, .hail {
        display: none;
        margin-top: 0px;
      }
      .confiteor, .angelus {
        margin-top: 0px;
      }

      sup.sc-ldf-bible-reading {
        display: var(--ldf-bible-reading-verse-number-display);
        margin-left: 0;
        margin-right: 0.25em;
        top: -.5em;
        position: relative;
        line-height: 0;
        vertical-align: initial;
        font-size: 75%;
      }

      .centered-column {
        display: flex;
        flex-direction: column;
        align-items: center; /* Centers content horizontally */
        /* text-align: left; */ /* Left-aligns text within each paragraph */
        max-width: 400px;
        margin: 0 auto; /* Center horizontally within the parent container (body) */
        /*font-size: 16px;*/
      }

      .first_reading, .second_reading, .third_reading, .fourth_reading {
        font-family: 'Baskervville', serif;
        /*font-size: 16px;*/
        /*text-align: left;
        margin-left: 30%;
        width: 40%;*/
        margin-top: 0px;
        font-weight: 400;
      }

      /* Initially set part four to display: none */
      .part_four {
        display: none;
      }

    </style>
  </head>
  <body>
    <div class="centered-column">
      <!-- Title -->
      <div class="title-text" id="main-title">
        Daily Prayer
      </div>
      <div class="date" id="selected-date">
        <!-- The date will go here -->
      </div>
      <div class="ordinal-date" id="ordinal-date">
        <!-- The ordinal date will go here -->
      </div>
      <div class="hail-button-container">
        <button id="luther-button">Broad Church Hail Mary</button>
        <button id="angelus-button">The Angelus</button>
      </div>
      <br>
      <div class="hail" id="hail"> 
        <h3>Hail Mary</h3>
        <p><span class="intro">The angel of the Lord</span> announced unto Mary,<br>
        <i>And she conceived by the Holy Ghost.</i><br>
        <br>Hail, Mary, full of grace, the Lord is with thee.
        <br>Blessed art thou among women, and blessed is the 
        <br>fruit of thy womb, Jesus.&emsp;<i style='color:darkred;'>Luke 1:28;42</i><br>
        <br><span class="intro">We beseech thee,</span> O Lord, pour thy grace
        <br>into our hearts, that we who have known the
        <br>Incarnation of thy Son Jesus Christ, announced by
        <br>an angel to the Virgin Mary, may by his cross and 
        <br>passion be brought unto the glory of his resurrection,
        <br>through the same Jesus Christ our Lord. <i>Amen.</i></p><p>
      </div>    
      <div class="angelus" id="angelus">
        <h3>The Angelus</h3>
        <p><span class="intro">The angel of the Lord</span> announced unto Mary,<br>
        <i>And she conceived by the Holy Ghost.</i><br>
        <br>Hail, Mary, full of grace, the Lord is with thee.
        <br>Blessed art thou among women, and blessed is the 
        <br>fruit of thy womb, Jesus.<br>
        <i>Holy Mary, mother of God, pray for us sinners, now 
        <br>and at the hour of our death.</i><br>
        <br>Behold, the handmaid of the Lord.<br>
        <i>Be it unto me according to thy word.</i><br>
        <br>Hail, Mary, full of grace, the Lord is with thee.
        <br>Blessed art thou among women, and blessed is the 
        <br>fruit of thy womb, Jesus.<br>
        <i>Holy Mary, mother of God, pray for us sinners, now 
        <br>and at the hour of our death.</i><br>
        <br>The Word was made flesh<br>
        <i>And dwelt among us.</i><br>
        <br>Hail, Mary, full of grace, the Lord is with thee.
        <br>Blessed art thou among women, and blessed is the 
        <br>fruit of thy womb, Jesus.<br>
        <i>Holy Mary, mother of God, pray for us sinners, now 
        <br>and at the hour of our death.</i><br>
        <br>Pray for us, O Holy Mother of God;<br>
        <i>That we may be made worthy of the promises of Christ.</i><br>
        <br><span class="intro">We beseech thee,</span> O Lord, pour thy grace
        <br>into our hearts, that we who have known the
        <br>Incarnation of thy Son Jesus Christ, announced by
        <br>an angel to the Virgin Mary, may by his cross and 
        <br>passion be brought unto the glory of his resurrection,
        <br>through the same Jesus Christ our Lord. <i>Amen.</i></p>
      </div>
      <br>
      <h3><br>The Office</h3>
      <div class="versicle" id="versicle"></div>
      <div class="confession-button-container">
        <button id="bc-button">Broad Church Confession</button>
        <button id="confiteor-button">Pray Confiteor instead</button>
      </div>
      <br>
      <div class="bc-confession" id="bc-confession">
        <h3>Confession of Sin</h3>
        <p>Let us humbly confess our sins unto Almighty God.<br>
        <br><i style="color:darkred">Silence</i><br>
        <br><i style="color:darkred">Say together</i><br>
        <br><span class="intro">Almighty</span> and most merciful Father,
        <br>We have erred and strayed from thy ways like
        <br>lost sheep,
        <br>we have followed too much the devices and desires
        <br>of our own hearts,
        <br>we have offended against thy holy laws,
        <br>we have left undone those things which we ought
        <br>to have done,
        <br>and we have done those things which we ought not
        <br>to have done.
        <br>But thou, O Lord, have mercy upon us,
        <br>spare thou those who confess their faults,
        <br>restore thou those who are penitent,
        <br>according to thy promises declared unto mankind
        <br>in Christ Jesus our Lord;
        <br>and grant, O most merciful Father, for his sake,
        <br>that we may hereafter live a godly, righteous, and
        <br>sober life,
        <br>to the glory of thy holy Name. <i>Amen.</i><br>
        <br>The Almighty and merciful Lord grant us
        <br>absolution and remission of all our sins, true 
        <br>repentance, amendment of life, and the grace and 
        <br>consolation of his Holy Spirit. <i>Amen.</i></p>
        <br>
      </div>
      <div class="confiteor" id="confiteor">
        <h3>Confiteor</h3>
        <p><span class="intro">Inspire our hearts</span> with honesty, with true 
        <br>contrition, and with faith in your mercy. <i>Amen.</i><br>
        <br><span class="intro">We confess</span> to Almighty God, to Blessed Mary 
        <br>Ever-Virgin, to blessed Michael the Archangel,
        <br>to blessed John the Baptist, to the holy Apostles  
        <br>Peter and Paul, and to all the Saints, that we have
        <br>sinned exceedingly in thought, word, and deed,
        <br>through our fault, through our own fault, through 
        <br>our own most grievous fault. Therefore we beg Blessed 
        <br>Mary Ever-Virgin, blessed Michael the Archangel, 
        <br>blessed John the Baptist, the holy Apostles Peter 
        <br>and Paul, and all the Saints, to pray to the Lord
        <br>our God for us.<br>
        <br><span class="intro">Almighty</span> and merciful Lord grant us
        <br>pardon, absolution, and remission of our sins. <i>Amen.</i><br>
        <br>Turn us, then, O God our Savior.
        <br><i>And let thine anger cease from us.</i></p>
      </div>
      <h3><br>Invitatory and Psalter</h3>
      <p>O God, make speed to save us.
      <br><i>O Lord, make haste to help us.</i><br>
      <br>Glory be to the Father, and to the Son, and to the
      <br>Holy Ghost: as it was in the beginning, is now, and 
      <br>ever shall be, world without end. <i>Amen.</i><br>
      <!-- A daily hymn follows here (In place of Phos Hilaron)-->
      <div class="hymn" id="hymn"></div>
      <!-- The morning psalms -->
      <div class="morning_psalm" id="morning_psalm"></div></p>
      <!-- The lesson -->
      <h3><br>The Lesson</h3>
      <!-- The first reading -->
      <p><span class='subhead'>The First Reading</span>
      <br><i id="first_reading_citation" style='color:darkred;'></i><br>
      <br><span id="reading_heading"></span></p>
      <div class="first_reading" id="first_reading"></div>
      <!-- The evening psalms -->
      <p><div class="evening_psalm" id="evening_psalm"></div></p>
      <!-- The second reading -->
      <p><br><span class='subhead'>The Second Reading</span>
      <br><i id="second_reading_citation" style='color:darkred;'></i><br>
      <br><span id="second_reading_heading"></span></p>
      <div class="second_reading" id="second_reading"></div>
      <!-- A second daily hymn follows here -->
      <div class="second_hymn" id="second_hymn"></div><br>
      <!-- The third reading -->
      <p><br><span class='subhead'>The Third Reading</span>
      <br><i id="third_reading_citation" style='color:darkred;'></i><br>
      <br><span id="third_reading_heading"></span></p>
      <div class="third_reading" id="third_reading"></div>
      <!-- The daily canticle -->
      <div class="canticle" id="canticle"></div><br>
      <!-- Possible part four -->
      <div class="part_four" id="part_four">
        <!-- The fourth reading -->
        <p><br><span class='subhead'>The Fourth Reading</span>
        <br><i id="fourth_reading_citation" style='color:darkred;'></i><br>
        <br><span id="fourth_reading_heading"></span></p>
        <div class="fourth_reading" id="fourth_reading"></div>
        <!-- The second daily canticle -->
        <div class="second_canticle" id="second_canticle"></div><br>
      </div>
      <!-- The Apostle's Creed -->
      <p><span class='subhead'>The Apostle's Creed</span><br>
      <br><span class='intro'>I believe</span> in God, the Father almighty,
      <br>maker of heaven and earth;<br>
      <br>And in Jesus Christ his only Son our Lord;
      <br>who was conceived by the Holy Ghost,
      <br>born of the Virgin Mary,
      <br>suffered under Pontius Pilate,
      <br>was crucified, dead, and buried.
      <br>He descended into hell.
      <br>The third day he rose again from the dead.
      <br>He ascended into heaven,
      <br>and sitteth on the right hand of God the Father almighty.
      <br>From thence he shall come to judge the quick and the dead.<br>
      <br>I believe in the Holy Ghost,
      <br>the holy catholic Church,
      <br>the communion of saints,
      <br>the forgiveness of sins,
      <br>the resurrection of the body,
      <br>and the life everlasting. <i>Amen.</i><br></p>
      <h3><br>The Prayers</h3>
      <p>The Lord be with you
      <br><i>And with thy spirit</i>
      <br>Let us pray.<br>
      <br><span class='subhead'>The Lord's Prayer</span>
      <br><i style='color:darkred;'>Pater noster</i><br>
      <br><span class='intro'>Our Father,</span> who art in heaven,
      <br>hallowed be thy Name,
      <br>thy kingdom come,
      <br>thy will be done,
      <br>on earth as it is in heaven.
      <br>Give us this day our daily bread.
      <br>And forgive us our trespasses,
      <br>as we forgive those who trespass against us.
      <br>And lead us not into temptation,
      <br>but deliver us from evil.
      <br>For thine is the kingdom, and the power, and the glory,
      <br>for ever and ever. <i>Amen.</i><br>
      <br><span class='subhead'>Suffrages</span><br>
      <br><span class='intro'>O God,</span> from whom all holy desires, all good counsels,
      <br>and all just works do proceed; Give unto thy servants
      <br>that peace which the world cannot give; that both our
      <br>hearts may be set to obey thy commandments, and also
      <br>that by thee, we, being defended from the fear of our
      <br>enemies, may pass our time in rest and quietness;
      <br>through the merits of Jesus Christ our Savior. <i>Amen.</i><br>
      <br><span class='intro'>O Lord,</span> show thy mercy upon us;
      <br><i>And grant us thy salvation.</i><br>
      <br>Endue thy ministers with righteousness;
      <br><i>And make thy chosen people joyful.</i><br>
      <br>Give peace, O Lord, in all the world;
      <br><i>For only in thee can we live in safety.</i><br>
      <br>Lord, keep this nation under thy care;
      <br><i>And guide us in the way of justice and truth.</i><br>
      <br>Let thy way be known upon the earth;
      <br><i>Thy saving health among all nations.</i><br>
      <br>Let not the needy, O Lord, be forgotten;
      <br><i>Nor the hope of the poor be taken away.</i><br>
      <br>Create in us clean hearts, O God;
      <br><i>And sustain us with thy Holy Spirit.</i><br></p>
      <span class='subhead'>The Collect</span>
      <!-- The daily collect -->
      <div class="collect" id="collect"></div><br>
      <p><br><span class='subhead'>A General Thanksgiving</span><br>
      <br><span class='intro'>Almighty God,</span> Father of all mercies, we
      <br>thine unworthy servants do give thee most
      <br>humble and hearty thanks for all thy
      <br>goodness and loving-kindness to us, and to
      <br>all. We bless thee for our creation, 
      <br>preservation, and all the blessings of this 
      <br>life; but above all, for thine inestimable
      <br>love in the redemption of the world by our
      <br>Lord Jesus Christ; for the means of grace, 
      <br>and for the hope of glory. 
      <br><br>And, we beseech thee, give us that due 
      <br>sense of all thy mercies, that our hearts 
      <br>may be unfeignedly thankful, and that we 
      <br>shew forth thy praise, not only with our 
      <br>lips, but in our lives; by giving up 
      <br>ourselves to thy service, and by walking 
      <br>before thee in holiness and righteousness  
      <br>all our days; through Jesus Christ our Lord,  
      <br>to whom with thee and the Holy Ghost be all  
      <br>honor and glory, world without end. <i>Amen.</i><br>
      <br><span class='subhead'>A Prayer of St. Chrysostom</span><br>
      <br><span class='intro'>Almighty God,</span> who hast given us grace at this
      <br>time with one accord to make our common
      <br>supplication unto thee; and hast promised through
      <br>thy well-beloved Son that when two or three are
      <br>gathered together in his Name thou wilt be in the 
      <br>midst of them: Fulfill now, O Lord, the desires 
      <br>and petitions of thy servants as may be best for 
      <br>us; granting us in this world knowledge of thy 
      <br>truth, and in the world to come life everlasting.
      <br><i>Amen</i><br>
      <br>Lord, hear our prayer. 
      <br><i>And let our cry come unto thee.</i><br> 
      <br>Let us bless the Lord.
      <br><i>Thanks be to God.</i><br> 
      <br>May the souls of the faithful, through 
      <br>the mercy of God, rest in peace.
      <br><i>Amen.</i></p>
    </div>
    

    <script>
      // Get the current date
      let currentDate = new Date();

      //let currentDate = new Date(2023, 8, 27);

      // Undefined easterDay
      let easterDay;

      // Define an array to store month names
      let monthNames = [
        'January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'
      ];

      // Define an array to store day names
      let dayNames = [
        'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'
      ];

      // Define number of Sundays (There are a maximum of twenty-eight after Pentecost)
      let sundaysAfter = [
        'First', 'Second', 'Third', 'Fourth', 'Fifth', 'Sixth', 'Seventh', 'Eighth', 'Ninth', 'Tenth',
        'Eleventh', 'Twelfth', 'Thirteenth', 'Fourteenth', 'Fifteenth', 'Sixteenth', 'Seventeenth', 'Eighteenth', 'Nineteenth', 'Twentieth',
        'Twenty-First', 'Twenty-Second', 'Twenty-Third', 'Twenty-Fourth', 'Twenty-Fifth', 'Twenty-Sixth', 'Twenty-Seventh', 'Twenty-Eighth'
      ];

      // Create an array of opening versicles suitable for any time of year for morning or evening prayer
      let versicles = [
        /* Sunday */ "I was glad when they said unto me, \"We will go into<br>the house of the Lord.\"&emsp;<i style='color:darkred;'>Psalms 122:1</i>",
        /* Monday */ "Jesus said, I am the light of the world; he that<br>followeth me shall not walk in darkness, but<br>shall have the light of life.&emsp;<i style='color:darkred;'>John 8:12</i>",
        /* Tuesday */ "Thine is the day, O God, thine also the night; thou hast<br>established the moon and the sun. Thou hast fixed all<br>the boundaries of the earth; thou hast made summer and winter.&emsp;<i style='color:darkred;'>Psalms 74:15,16</i>",
        /* Wednesday */ "Seek him that made the Pleiades and Orion,<br>that turneth deep darkness into the morning,<br>and darkeneth the day into night;<br>that calleth for the waters of the sea,<br>and poureth them out upon the face of the earth:<br>The Lord is his Name.&emsp;<i style='color:darkred;'>Amos 5:8</i>",
        /* Thursday */ "Therefore if thou bring thy gift to the altar, and there<br>rememberest that thy brother hath ought against thee;<br>Leave there thy gift before the altar, and go thy way;<br>first be reconciled to thy brother, and then come and<br>offer thy gift.&emsp;<i style='color:darkred;'>Matthew 5:37</i>",
        /* Friday */ "And I will pour upon the house of David, and upon the<br>inhabitants of Jerusalem, the spirit of grace and of supplications:<br>and they shall look upon me whom they have pierced, and they<br>shall mourn for him, as one mourneth for his only son, and shall<br>be in bitterness for him, as one that is in bitterness for his<br>firstborn.&emsp;<i style='color:darkred;'>Zechariah 12:10</i>",
        /* Saturday */ "Therefore the Lord himself shall give you a sign; Behold, a virgin shall<br>conceive, and bear a son, and shall call his name Immanuel.&emsp;<i style='color:darkred;'>Isaiah 7:14</i>"
      ];

      // Create an array of opening versicles suitable for specific holy days
      let holyVersicles = [
        /* St. Matthew */ "While ye gather up the tares, ye root up also the wheat<br>with them. Let both grow together until the harvest.&emsp;<i style='color:darkred;'>Matthew 13:29-30</i>",
        /* St. Michael */ "Bless the Lord, ye his angels, that excel in strength, that<br>do his commandments, hearkening unto the voice of his<br>word.&emsp;<i style='color:darkred;'>Psalms 103:20</i>",
        /* St. Luke */ "Bring forth the best robe, and put it on him;<br>and put a ring on his hand, and shoes on his feet:<br>For this my son was dead, and is alive again;<br>he was lost, and is found.&emsp;<i style='color:darkred;'>Luke 16:22,24</i>",
        /* St. James */ "The wisdom that is from above is first pure, then peaceable,<br>gentle, and easy to be intreated, full of mercy and good<br>fruits, without partiality, and without hypocrisy.&emsp;<i style='color:darkred;'>James 3:17</i>",
        /* Simon and Jude */ "Ye shall receive power, after that the Holy Ghost is come<br>upon you: and ye shall be witnesses unto me both in<br>Jerusalem, and in all Judaea, and in Samaria, and unto<br>the uttermost part of the earth.&emsp;<i style='color:darkred;'>Acts 1:8</i>",
        /* All Saints */ "Let thy priests, O Lord, be clothed with salvation, and let thy<br>saints rejoice in goodness.&emsp;<i style='color:darkred;'>2 Chronicles 6:41</i>",
        /* All Souls */ "And God shall wipe away all tears from their eyes; and there<br>shall be no more death, neither sorrow, nor crying, neither<br>shall there be any more pain: for the former things are<br>passed away.&emsp;<i style='color:darkred;'>Revelation 21:4</i>",
        /* St. Andrew */ "He saw Simon and Andrew his brother casting a net into the sea:<br>for they were fishers. And Jesus said unto them, \"Come ye<br> after me, and I will make you to become fishers of men.\" And<br>straightaway they forsook their nets, and followed him.&emsp;<i style='color:darkred;'>Mark 1:16-18</i>",
        /* St. Thomas */ "Jesus saith unto him, \"Thomas, because thou hast seen<br>me, thou hast believed: blessed are they that have not<br>seen, and yet have believed.\"&emsp;<i style='color:darkred;'>John 20:29</i>",
        /* St. Stephen */ "And they stoned Stephen, calling upon God, and saying,<br>\"Lord Jesus, receive my spirit.\" And he kneeled down, and<br>cried with a loud voice, \"Lord, lay not this sin to their<br>charge.\" And when he had said this, he fell asleep.&emsp;<i style='color:darkred;'>Acts 7:59-60</i>",
        /* St. John */ "Beloved, let us love one another: for love is of God; and<br>every one that loveth is born of God, and knoweth God. He that<br>loveth not, knoweth not God; for God is love.&emsp;<i style='color:darkred;'>1 John 4:7-8</i>",
        /* Holy Innocents */ "Thus saith the Lord; A voice was heard in Ramah, lamentation,<br>and bitter weeping; Rahel weeping for her children refused<br>to be comforted for her children, because they were not.&emsp;<i style='color:darkred;'>Jeremiah 31:15</i>"
      ];

      // Create an array of hymns for specific holy days
      let holyHymns = [
        /* St. Matthew */ "<span class='subhead'>The eternal gifts of Christ the King</span><br><i style='color:darkred;'>Aeterna Christi munera</i><br><br><span class='intro'>The eternal gifts</span>of Christ the King,<br>The Apostles' glory, let us sing;<br>And all, with hearts of gladness, raise<br>Due hymns of thankful love and praise.<br><br>Theirs is the steadfast faith of saints,<br>And hope that never yields nor faints,<br>And love of Christ in perfect glow<br>That lays the prince of this world low.<br><br>In them the Father's glory shone,<br>In them the will of God the Son,<br>In them exults the Holy Ghost,<br>Through them rejoice the heavenly host.<br><br>To thee, Redeemer, now we cry,<br>That thou wouldst join to them on high<br>Thy servants, who this grace implore,<br>Forever and forevermore. <i>Amen.</i>",
        /* St. Michael */ "<span class='subhead'>Ye holy angels bright</span><br><br><span class='intro'>Ye holy</span> angels bright,<br>Who wait at God's right hand,<br>Or through the realms of light<br>Fly at your Lord's command,<br>Assist our song,<br>or else the theme<br>Too high doth seem<br>for mortal tongue.<br><br>Ye blessèd souls at rest,<br>Who ran this earthly race<br>And now, from sin released,<br>Behold your Savior's face,<br>God's praises sound,<br>as in His light<br>With sweet delight<br>ye do abound.<br><br>Ye saints, who toil below,<br>Adore your heavenly King,<br>And onward as ye go<br>Some joyful anthem sing;<br>Take what He gives,<br>and praise Him still,<br>Through good or ill,<br>who ever lives.<br><br>My soul, bear thou thy part,<br>Triumph in God above,<br>And with a well-tuned heart<br>Sing thou the songs of love;<br>Let all thy days<br>till life shall end,<br>Whatever He send,<br>be filled with praise. <i>Amen.</i>",
        /* St. Luke */ "<span class='subhead'>Savior, who didst healing give</span><br><i style='color:darkred;'>Jesus ist das schönste Licht</i><br><br><span class='intro'>Savior,</span> who didst healing give<br>Still in power go before us;<br>Thou through death didst bid me live,<br>Unto fuller life restore us;<br>Strength from thee the fainting found,<br>Deaf men heard, the blind went seeing;<br>At thy touch was banished sickness,<br>And the leper felt new being.<br><br>Thou didst work thy deeds of old<br>Through the loving hands of others;<br>Still thy mercies manifold<br>Bless men by the hands of brothers;<br>Angels still before thy face<br>Go, sweet health to brothers bringing;<br>Still, hearts glow to tell his praises<br>With those whose name the Church is ringing.<br><br>Loved physician! for his word<br>Lo, the gospel page burns brighter,<br>Mission servant of the Lord,<br>Painter true, and perfect writer;<br>Savior, of thy bounty send<br>Such as Luke of gospel story,<br>Friends to all in body's prison<br>Till the sufferers see thy glory. <i>Amen.</i>",
        /* St. James of Jerusalem */ "<span class='subhead'>Martyr of God, whose strength was steeled</span><br><i style='color:darkred;'>Martyr Dei qui unicum</i><br><br><span class='intro'>Martyr of God,</span> whose strength was steeled<br>To follow close God's only Son,<br>Well didst thou brave thy battlefield,<br>And well thy heavenly bliss was won!<br>Now join thy prayers with ours, who pray<br>That God may pardon us and bless;<br>For prayer keeps evil's plague away,<br>And draws from life its weariness.<br><br>Long, long ago, were loosed the chains<br>That held thy body once in thrall;<br>For us how many a bond remains!<br>O Love of God release us all.<br><br>All praise to God the Father be,<br>All praise to Thee, eternal Son;<br>All praise, O Holy Ghost, to Thee<br>While never ending ages run. <i>Amen.</i>",
        /* Ss. Simon & Jude */ "<span class='subhead'>Thou who sentest thine apostles</span><br><br><span class='intro'>Thou who</span> sentest thine apostles<br>Two and two before thy face,<br>Partners in the night of toiling,<br>Heirs together of thy grace,<br>Throned at length, their labors ended,<br>Now in heaven's exalted place.<br><br>Praise to thee for those thy champions<br>Whom our hymns today proclaim;<br>One, whose zeal by thee englightened<br>Burned anew with nobler flame;<br>One, the brother of thy childhood,<br>Brought at last to know thy Name.<br><br>Praise to thee! Thy fire within them<br>Spake in love, and wrought in power;<br>Seen in mighty signs and wonders<br>In thy church's morning hour;<br>Heard in tones of sternest warning<br>When the storms began to lower.<br><br>Thus with holy Jude and Simon<br>And the thousand faithful more,<br>We, the good confession witnessed,<br>And our lifelong conflict o'er,<br>On the sea of fire and crystal<br>Stand, and wonder, and adore.<br><br>God our Maker, great and wondrous<br>In thy works, to thee be praise;<br>Jesus Christ, to thee be glory,<br>Just and true in all thy ways;<br>Praise to thee, from both proceeding,<br>Spirit blest, through endless days. <i>Amen</i>.",
        /* All Saints */ "<span class='subhead'>By all your saints still striving</span><br><br><span class='intro'>By all</span> your saints still striving,<br>For all your saints at rest,<br>Your holy name, O Jesus,<br>Forevermore be blessed!<br>For those passed on before us,<br>We sing our praise anew<br>And, walking in their footsteps,<br>Would live our lives for you.<br><br>Apostles, prophets, martyrs,<br>And all the sacred throng,<br>Those named and those unnumbered,<br>Who raise the ceaseless song;<br>All these, passed on before us,<br>O Christ, we now adore,<br>And, walking in their footsteps,<br>Would serve you more and more.<br><br>We pray for saints we know not,<br>For saints still yet to be,<br>For grace to bear true witness<br>And serve you faithfully,<br>Till all the ransomed number<br>Who stand before the throne<br>Ascribe all power and glory<br>And praise to God alone. <i>Amen.</i>",
        /* All Souls */ "<span class='subhead'>Alleluia! Alleluia! Alleluia!</span><br><br><span class='intro'>Author of life,</span> where'er they be,<br>Safe in thine own eternity,<br>Our loved are living unto thee:<br>Alleluia!<br><br>All souls are thine, and here or there<br>They rest within thy sheltering care;<br>One providence alike they share:<br>Alleluia!<br><br>Thy Word is true, thy ways are just;<br>Above the requiem, \"Dust to dust,\"<br>Shall rise our psalm of grateful trust:<br>Alleluia!<br><br>O happy they in God who rest,<br>No more by fear and doubt oppressed,<br>Living or dying, they are blest:<br>Alleluia! <i>Amen.</i>",
        /* St. Andrew */ "<span class='subhead'>How fair and pleasant is the sight</span><br><br><span class='intro'>How fair</span> and pleasant is the sight<br>When kindred hearts agree<br>In holy amity and love,<br>United, Lord, by thee.<br><br>Bright pattern of fraternal love<br>Today with joy we see,<br>Saint Andrew, who a brother brought,<br>Saint Peter, Christ, to thee.<br><br>Brothers by nature and by grace,<br>Thou loved'st them as thine own;<br>Brothers united in the cross<br>And brothers in the crown.<br><br>They usher in thine Advent, Lord,<br>Which saved the world from sin;<br>For all who would that Advent greet,<br>Must first with Love begin. <i>Amen.</i>",
        /* St. Thomas */ "<span class='subhead'>We walk by faith</span><br><br><span class='intro'>We walk</span> by faith and not by sight;<br>with gracious words draw near,<br>O Christ, who spoke as none e'er spoke:<br>\"My peace be with you here.\"<br><br>We may not touch your hands and side,<br>nor follow where you trod;<br>but in your promise we rejoice,<br>and cry, \"My Lord and God!\"<br><br>Help then, O Lord, our unbelief;<br>and may our faith abound<br>to call on you when you are near<br>and seek where you are found.<br><br>That when our life of faith is done,<br>in realms of clearer light<br>may we behold you as you are,<br>with full and endless sight. <i>Amen.</i>",
        /* St. Stephen */ "<span class='subhead'>Good King Wenceslas</span><br><br><span class='intro'>Good</span> King Wenceslas looked out,<br>On the Feast of Stephen,<br>When the snow lay round about,<br>Deep and crisp and even;<br>In the cold a serf he spied<br>And bestowed his favor,<br>Welcomed him that Christmastide<br>As his Christ and Savior.<br><br>Stephen too by charity<br>And his proclamation<br>Served his King most faithfully,<br>Lord of every nation.<br>He embraced his Master's call,<br>Faith his only armor,<br>Dying at the feet of Saul:<br>First of all the martyrs.<br><br>Let us like Good Wenceslas<br>By this celebration<br>Join the mystery of the cross<br>To the incarnation.<br>Let the earth sing: Hodie!<br>Jubilate Deo!<br>With the angels: Gloria!<br>In excelsis Deo! <i>Amen.</i>",
        /* St. John */ "<span class='subhead'>Come pure hearts in joyful measure</span><br><br><span class='intro'>Come,</span> pure hearts, in joyful measure<br>sing of those who spread the treasure<br>in the holy Gospels shrined;<br>blessed tidings of salvation,<br>peace on earth their proclamation,<br>love from God to lost mankind.<br><br>See the rivers four that gladden,<br>with their streams, the better Eden<br>planted by our Lord most dear;<br>Christ the fountain, these the waters;<br>drink, O Zion's sons and daughters,<br>drink and find salvation here.<br><br>O that we, thy truth confessing,<br>and thy holy word possessing,<br>Jesus, may thy love adore;<br>unto thee our voices raising,<br>thee with all thy ransomed praising,<br>ever and forevermore. <i>Amen.</i>",
        /* Holy Innocents */ "<span class='subhead'>In Bethlehem</span><br><br><span class='intro'>In Bethlehem</span> a newborn boy<br>was hailed with songs of praise and joy.<br>Then warning came of danger near:<br>King Herod's troops would soon appear.<br><br>The soldiers sought the child in vain:<br>not yet was he to share our pain.<br>But down the ages rings the cry<br>of those who saw their children die.<br><br>Still rage the fires of hate today,<br>and innocents the price must pay,<br>while aching hearts in every land<br>cry out \"We cannot understand!\"<br><br>Lord Jesus, through our night of loss,<br>shines out the wonder of your cross,<br>the love that cannot cease to bear<br>our human anguish everywhere.<br>May that great love our lives control<br>and conquer hate in every soul,<br>till, pledged to build and not destroy,<br>we share your pain and find your joy. <i>Amen.</i>"
      ];

      // Create an array of hymns for specific holy days
      let holySecondHymns = [
        /* St. Matthew */ ""
      ];

      let holyCollects = [
        /* St. Matthew */ "<br><span class='intro'>O Almighty God,</span> whose blessed Son called Matthew<br>the tax collector to be an apostle and evangelist: Give us<br>grace to forsake the selfish pursuit of gain and the<br>possessive love of riches, that we may follow in the way of thy Son Jesus Christ, who liveth and reigneth with<br>thee, in the unity of the Holy Spirit, one God, now and for ever. <i>Amen.</i>",
        /* St. Michael */ "<br><span class='intro'>O Everlasting God,</span> who hast ordained and<br>constituted the ministries of angels and mortals in a<br>wonderful order: Mercifully grant that, as thy holy<br>angels always serve and worship thee in heaven, so by<br>thy appointment they may help and defend us on earth;<br>through Jesus Christ our Lord, who liveth and reigneth<br>with thee and the Holy Spirit, one God, for ever and<br>ever. <i>Amen.</i>",
        /* St. Luke */ "<br><span class='intro'>Almighty God,</span> who didst inspire thy servant Luke the<br>physician to set forth in the Gospel the love and healing<br>power of thy Son: Graciously continue in thy Church<br>the like love and power to heal, to the praise and glory of thy<br>Name; through the same thy Son Jesus Christ our Lord,<br>who liveth and reigneth with thee, in the unity of the<br>Holy Spirit, one God, now and for ever. <i>Amen.</i>",
        /* St. James of Jerusalem */ "<br><span class='intro'>Grant, O God,</span> that, following the example of thy<br>servant James the Just, brother of our Lord, thy Church<br>may give itself continually to prayer and to the<br>reconciliation of all who are at variance and enmity; through<br>Jesus Christ our Lord, who liveth and reigneth with thee<br>and the Holy Spirit, one God, now and for ever. <i>Amen.</i>",
        /* Ss. Simon & Jude */ "<br><span class='intro'>O God,</span> we thank thee for the glorious<br>company of the apostles, and especially on this day for<br>Simon and Jude; and we pray that, as they were faithful<br>and zealous in their mission, so we may with ardent<br>devotion make known the love and mercy of our Lord<br>and Savior Jesus Christ; who liveth and reigneth with<br>thee and the Holy Spirit, one God, for ever and ever. <i>Amen.</i>",
        /* All Saints */ "<br><span class='intro'>O Almighty God,</span> who hast knit together thine elect<br>in one communion and fellowship in the mystical body<br>of thy Son Christ our Lord: Grant us grace so to follow<br>thy blessed saints in all virtuous and godly living, that<br>we may come to those ineffable joys which thou hast<br>prepared for those who unfeignedly love thee; through<br>the same Jesus Christ our Lord, who with thee and the<br>Holy Spirit liveth and reigneth, one God, in glory<br>everlasting. <i>Amen.</i>",
        /* All Souls */ "<br><span class='intro'>O God,</span> the Maker and Redeemer of all believers: Grant<br>to the faithful departed the unsearchable benefits of the<br>passion of thy Son; that on the day of his appearing they<br>may be manifested as thy children; through Jesus Christ<br>our Lord, who liveth and reigneth with thee and the<br>Holy Ghost, one God, now and for ever. <i>Amen.</i>",
        /* St. Andrew */ "<br><span class='intro'>Almighty God,</span> who didst give such grace to thine<br>apostle Andrew that he readily obeyed the call of thy<br>Son Jesus Christ, and brought his brother with him: Give<br>unto us, who are called by thy Word, grace to follow him<br>without delay, and to bring those near to us into his<br>gracious presence; who liveth and reigneth with thee<br>and the Holy Spirit, one God, now and for ever. <i>Amen.</i>",
        /* St. Thomas */ "<br><span class='intro'>Everliving God,</span> who didst strengthen thine apostle<br>Thomas with sure and certain faith in thy Son's<br>resurrection: Grant us so perfectly and without doubt to<br>believe in Jesus Christ, our Lord and our God, that our<br>faith may never be found wanting in thy sight; through<br>him who liveth and reigneth with thee and the Holy<br>Spirit, one God, now and for ever. <i>Amen.</i>",
        /* St. Stephen */ "<br><span class='intro'>We give thee</span> thanks, O Lord of glory, for the example<br>of the first martyr Stephen, who looked up to heaven<br>and prayed for his persecutors to thy Son Jesus Christ,<br>who standeth at thy right hand: where he liveth and<br>reigneth with thee and the Holy Spirit, one God, in<br>glory everlasting. <i>Amen.</i>",
        /* St. John */ "<br><span class='intro'>Shed upon</span> thy Church, we beseech thee, O Lord,<br>the brightness of thy light; that we, being illumined by<br>the teaching of thine apostle and evangelist John, may<br>so walk in the light of thy truth, that at length we may<br>attain to the fullness of life everlasting; through Jesus<br>Christ our Lord, who liveth and reigneth with thee and<br>the Holy Spirit, one God, for ever and ever. <i>Amen.</i>",
        /* Holy Innocents */ "<br><span class='intro'>We remember</span> this day, O God, the slaughter of the<br>holy innocents of Bethlehem by the order of King<br>Herod. Receive, we beseech thee, into the arms of thy<br>mercy all innocent victims; and by thy great might<br>frustrate the designs of evil tyrants and establish thy<br>rule of justice, love, and peace; through Jesus Christ<br>our Lord, who liveth and reigneth with thee, in the unity<br>of the Holy Spirit, one God, for ever and ever. <i>Amen.</i>"
      ];

      // Create an array of hymns 
      let hymns = [
        "<span class='subhead'>Come, Holy Ghost, who ever One</span><br><i style='color:darkred;'>Nunc, Sancte, nobis, Spiritus</i><br><br><span class='intro'>Come, Holy Ghost,</span> who ever One<br>Art with the Father and the Son;<br>Come, Holy Ghost, our souls possess<br>With thy full flood of holiness.<br><br>By every power, by heart and tongue,<br>By act and deed, thy praise be sung:<br>Inflame with perfect love each sense,<br>That others' souls may kindle thence.<br><br>O Father, that we ask be done<br>Through Jesus Christ, thine only Son,<br>Who, with the Holy Ghost and thee,<br>Shall live and reign eternally. <i>Amen.</i>",
        "<span class='subhead'>Maker of man</span><br><i style='color:darkred;'>Plasmator hominis, Deus</i><br><br><span class='intro'>Maker of man,</span> from heaven thy throne<br>Who orderest all things, God alone;<br>By whose decree the teeming earth<br>To reptile and to beast gave birth.<br><br>The mighty forms that fill the land,<br>Instinct with life at thy command,<br>Thou gavest subdued to humankind<br>For service in their rank assigned.<br><br>From all thy servants chase away<br>Whatever thought impure today<br>Hath mingled with the heart's intent,<br>Or with the actions hath been blent.<br><br>In heaven thine endless joys bestow,<br>But grant thy gifts of grace below;<br>From chains of strife our souls release,<br>Bind fast the gentle bands of peace.<br><br>O Father, that we ask be done<br>Through Jesus Christ, thine only Son,<br>Who, with the Holy Ghost and thee,<br>Doth live and reign eternally. <i>Amen.</i>",
        "<span class='subhead'>O God, creation's secret force</span><br><i style='color:darkred;'>Rerum Deus tenax vigor</i><br><br><span class='intro'>O God,</span> creation's secret force,<br>Thyself unmoved, all motion's source,<br>Who from the morn till evening's ray<br>Through all its changes guidest the day:<br><br>Grant us, when this short life is past,<br>The glorious evening that shall last;<br>That, by a holy death attained,<br>Eternal glory may be gained.<br><br>O Father, that we ask be done<br>Through Jesus Christ, thine only Son,<br>Who, with the Holy Ghost and thee,<br>Shall live and reign eternally. <i>Amen.</i>",
        "<span class='subhead'>God of truth, Lord of might</span><br><i style='color:darkred;'>Rector potens, verax Deus</i><br><br><span class='intro'>O God of truth,</span> O Lord of might,<br>Who orderest time and change aright,<br>And sendest the early morning ray,<br>And lightest the glow of perfect day;<br><br>Extinguish thou each sinful fire,<br>And banish every ill desire;<br>And while thou keepest the body whole<br>Shed forth thy peace upon the soul.<br><br>O Father, that we ask be done<br>Through Jesus Christ, thine only Son,<br>Who, with the Holy Ghost and thee,<br>Shall live and reign eternally. <i>Amen.</i>",
        "<span class='subhead'>O Christ, our joy</span><br><i style='color:darkred;'>Tu Christe nostrum gaudium</i><br><br><span class='intro'>O Christ,</span> our joy, to whom is given<br>A throne over all the thrones of heaven,<br>In thee, whose hand all things obey,<br>The world's vain pleasures pass away.<br><br>So, suppliants here, we seek to win<br>Thy pardon for thy people's sin,<br>That, by thine all-prevailing grace,<br>Uplifted, we may seek thy face.<br><br>And when, all heaven beneath thee bowed,<br>Thou comest to judgement throned in cloud,<br>Then from our guilt wash out the stain<br>And give us our lost crowns again.<br><br>Be thou our joy and strong defense,<br>Who art our future recompense:<br>So shall the light that springs from thee<br>Be ours through all eternity.<br><br>All glory, Lord, to thee we pay,<br>Ascending over the stars today;<br>All glory, as is ever meet,<br>To Father and to Paraclete. <i>Amen.</i>",
        "<span class='subhead'>Eternal Monarch, King most High</span><br><i style='color:darkred;'>Aeterne Rex altissime</i><br><br><span class='intro'>Eternal Monarch,</span> King most High,<br>Whose Blood hath brought redemption nigh,<br>By whom the death of Death was wrought,<br>And conquering Grace's battle fought.<br><br>Ascending to the throne of might,<br>And seated at the Father's right,<br>All power in heaven is Jesus' own,<br>That here his manhood had not known.<br><br>That so, in nature's triple frame,<br>Each heavenly and each earthly name,<br>And things in hell's abyss abhorred,<br>May bend the knee and own him Lord.<br><br>Yea, Angels tremble when they see<br>How changed is our humanity;<br>That flesh hath purged what flesh had stained,<br>And God, the Flesh of God, hath reigned.<br><br>Be thou our joy, O mighty Lord,<br>As thou wilt be our great reward;<br>Let all our glory be in thee<br>Both now and through eternity.<br><br>All glory, Lord, to thee we pay,<br>Ascending over the stars today;<br>All glory, as is ever meet,<br>To Father and to Paraclete. <i>Amen.</i>",
        "<span class='subhead'>Be present, Holy Trinity</span><br><i style='color:darkred;'>Adesto Sancta Trinitas</i><br><br><span class='intro'>Be present,</span> Holy Trinity,<br>Like splendor, and one Deity:<br>Of things above, and things below,<br>Beginning, that no end shall know.<br><br>Thee all the armies of the sky<br>Adore, and laud, and magnify:<br>And Nature, in her triple frame,<br>Forever sanctifies thy name.<br><br>And we, too, thanks and homage pay,<br>Thine own adoring flock today;<br>O join to that celestial song<br>The praises of our suppliant song.<br><br>Light, sole and one, we thee confess,<br>With triple praise we rightly bless;<br>Alpha and Omega we own,<br>With every spirit round thy throne.<br><br>To thee, O unbegotten One,<br>And thee, O sole begotten Son,<br>And thee, O Holy Ghost, we raise<br>Our equal and eternal praise. <i>Amen.</i>"
      ];

      // Fill an array with hymns from the 1982 Hymnal of the Episcopal Church
      const secondHymns = [
        /* Sunday */ "<br><span class='subhead'>O love, how deep, how broad</span><br><i style='color:darkred;'>De amore Christi</i><br><br><span class='intro'>O love,</span> how deep, how broad, how high,<br>how passing thought and fantasy,<br>that God, the Son of God, should take<br>our mortal form for mortals' sake.<br><br>For us baptized, for us he bore<br>his holy fast and hungered sore;<br>for us temptations sharp he knew;<br>for us the tempter overthrew.<br><br>For us he prayed; for us he taught;<br>for us his daily works he wrought:<br>by words and signs and actions, thus<br>still seeking not himself, but us.<br><br>For us to wicked hands betrayed,<br>scourged, mocked, in purple robe arrayed,<br>he bore the shameful cross and death;<br>for us gave up his dying breath.<br><br>For us he rose from death again;<br>for us he went on high to reign;<br>for us he sent his Spirit here<br>to guide, to strengthen, and to cheer.<br><br>All glory to our Lord and God<br>for love so deep, so high, so broad;<br>the Trinity whom we adore<br>forever and forevermore.<br><br><i>Amen.</i>",
        /* Monday */ "<br><span class='subhead'>O God, our help in ages past</span><br><i style='color:darkred;'>Domine, refugium</i><br><br><span class='intro'>O God,</span> our help in ages past,<br>our hope for years to come,<br>our shelter from the stormy blast,<br>and our eternal home:<br><br>under the shadow of thy throne<br>thy saints have dwelt secure;<br>sufficient is thine arm alone,<br>and our defense is sure.<br><br>Before the hills in order stood,<br>or earth received her frame,<br>from everlasting thou art God,<br>to endless years the same.<br><br>A thousand ages in thy sight<br>are like an evening gone;<br>short as the watch that ends the night<br>before the rising sun.<br><br>Time, like an ever-rolling stream,<br>bears all our years away;<br>they fly, forgotten, as a dream<br>dies at the opening day.<br><br>O God, our help in ages past,<br>our hope for years to come,<br>be thou our guide while life shall last,<br>and our eternal home.<br><br><i>Amen.</i>",
        /* Tuesday */ "<br><span class='subhead'>Our God, to whom we turn</span><br><i style='color:darkred;'>O Gott, du frommer Gott</i><br><br><span class='intro'>O God,</span> to whom we turn<br>when weary with illusion,<br>whose stars serenely burn<br>above this earth's confusion,<br>thine is the mighty plan,<br>the steadfast order sure<br>in which the world began,<br>endures, and will endure.<br><br>Thou art thyself the truth;<br>though we who seek to find thee<br>have tried, with thoughts uncouth,<br>in feeble words to bind thee,<br>it is because thou art<br>we're driven to the quest;<br>till truth from falsehood part,<br>our hearts can find no rest.<br><br>All beauty speaks of thee:<br>the mountains and the rivers,<br>the line of lifted sea,<br>where spreading moonlight quivers,<br>the hymns thy people raise,<br>the psalms and anthems strong,<br>hint at the glorious praise<br>of thy eternal song.<br><br>Where goodness comes to light<br>we glimpse thy plan unfolding;<br>where justice wins its fight<br>thou art the Kingdom molding;<br>the blood of friend as sign<br>of love for comrade spilt,<br>reflects the vast design<br>by which thy hose is built.<br><br>Thou hidden fount of love,<br>of peace, and truth, and beauty,<br>inspire us from above<br>with joy and strength for duty.<br>May thy fresh light arise<br>with each clouded heart,<br>and give us open eyes<br>To see thee as thou art.<br><br><i>Amen.</i>",
        /* Wednesday */ "<br><span class='subhead'>Let saints on earth in concert sing</span><br><i style='color:darkred;'>A Wesleyan Hymn</i><br><br><span class='intro'>Let saints</span> on earth in concert sing<br>with those whose work is done;<br>for all the servants of our King<br>in heaven and earth are one.<br><br>One family we dwell in him,<br>one Church, above, beneath,<br>though now divided by the stream,<br>the narrow stream of death.<br><br>One army of the living God,<br>to his command we bow;<br>part of the host have crossed the flood,<br>and part are crossing now.<br><br>E'en now by faith we join our hands<br>with those that went before,<br>and greet the everliving bands<br>on the eternal shore.<br><br>Jesus, be thou our constant Guide;<br>then, when the word is given,<br>bid Jordan's narrow stream divide,<br>and bring us safe to heaven.<br><br><i>Amen.</i>",
        /* Thursday */ "<br><span class='subhead'>The spacious firmament</span><br><i style='color:darkred;'>Caeli enarrant</i><br><br><span class='intro'>The spacious firmament</span> on high,<br>with all the blue ethereal sky,<br>and spangled heavens, a shining frame,<br>their great Original proclaim.<br>The unwearied sun from day to day<br>does his Creator's power display;<br>and publishes to every land<br>the work of an almighty hand.<br><br>Soon as the evening shades prevail,<br>the moon takes up the wondrous tale,<br>and nightly to the listening earth<br>repeats the story of her birth:<br>whilst all the stars that round her burn,<br>and all the planets in their turn,<br>confirm the tidings as they roll,<br>and spread the truth from pole to pole.<br><br>What though in solemn silence all<br>move round the dark terrestrial ball?<br>What though no real voice nor sound<br>amid their radiant orbs be found?<br>In reason's ear they all rejoice,<br>and utter forth a glorious voice;<br>forever singing as they shine,<br>'The hand that made us is divine.'<br><br><i>Amen.</i>",
        /* Friday */ "<br><span class='subhead'>Sing, my tongue</span><br><i style='color:darkred;'>Pange lingua</i><br><br><span class='intro'>Sing, my tongue,</span> the glorious battle;<br>of the mighty conflict sing;<br>tell the triumph of the victim,<br>to his cross thy tribute bring.<br>Jesus Christ, the world's Redeemer<br>from that cross now reigns as King.<br><br>Thirty years among us dwelling,<br>his appointed time fulfilled,<br>born for this, he meets his passion,<br>this the Savior freely willed:<br>on the cross the Lamb is lifted,<br>where his precious blood is spilled.<br><br>He endures the nails, the spitting,<br>vinegar, and spear, and reed;<br>from that holy body broken<br>blood and water forth proceed:<br>earth, and stars, and sky, and ocean,<br>by that flood from stain are freed.<br><br>Faithful cross! above all other,<br>one and only noble tree!<br>None in foliage, none in blossom,<br>none in fruit thy peer may be:<br>sweetest wood and sweetest iron!<br>sweetest weight is hung on thee.<br><br>Bend thy boughs, O tree of glory!<br>Thy relaxing sinews bend;<br>for awhile the ancient rigor<br>that thy birth bestowed, suspend;<br>and the King of heavenly beauty<br>gently on thine arms extend.<br><br>Praise and honor to the Father,<br>praise and honor to the Son,<br>praise and honor to the Spirit,<br>ever Three and ever One:<br>one in might and one in glory<br>while eternal ages run.<br><br><i>Amen.</i>",
        /* Saturday */ "<br><span class='subhead'>Sing of Mary, pure and lowly</span><br><i style='color:darkred;'>Canadian Anglican Hymn</i><br><br><span class='intro'>Sing of Mary,</span> pure and lowly,<br>virgin mother undefiled;<br>sing of God's own Son most holy,<br>who became her little child.<br>Fairest child of fairest mother,<br>God the Lord who came to earth,<br>Word made flesh, our very brother,<br>takes our nature by his birth.<br><br>Sing of Jesus, son of Mary,<br>in the home at Nazareth,<br>toil and labor cannot weary<br>love enduring unto death.<br>Constant was the love he gave her,<br>though he went forth from her side,<br>forth to preach, and heal, and suffer,<br>till on Calvary he died.<br><br>Glory be to God the Father;<br>glory be to God the Son;<br>glory be to God the Spirit;<br>glory to the Three in One.<br>From the heart of blessed Mary,<br>from all saints the song ascends,<br>and the Church the strain reechoes<br>unto earth's remotest ends.<br><br><i>Amen.</i>"
      ];

      // Create an array of canticles
      let canticles = [
        /* Sunday */ "<br><span class='subhead'>Glory be to God</span><br><i style='color:darkred;'>Gloria in excelsis</i><br><br><span class='intro'>Glory be</span> to God on high,<br>and on earth peace, good will towards men.<br><br>We praise thee, we bless thee,<br>we worship thee<br>we glorify thee<br>we give thanks to thee for thy great glory,<br>O Lord God, heavenly King,<br>God the Father Almighty.<br><br>O Lord, the only-begotten Son, Jesus Christ;<br>O Lord God, Lamb of God, Son of the Father,<br>that takest away the sins of the world,<br>have mercy upon us.<br>Thou that takest away the sins of the world,<br>receive our prayer.<br>Thou that sittest at the right hand of God the Father,<br>have mercy upon us.<br><br>For thou only art holy;<br>thou only art the Lord;<br>thou only, O Christ,<br>with the Holy Ghost,<br>art most high in the glory of God the Father.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>",
        /* Monday */ "<br><span class='subhead'>A Song of Praise</span><br><i style='color:darkred;'>Benedictus es, Domine</i><br><i style='color:darkred;'>Song of the Three Young Men, 29-34</i><br><br><span class='intro'>Blessed art thou,</span> O Lord God of our fathers;<br>praised and exalted above all for ever.<br>Blessed art thou for the Name of thy Majesty;<br>praised and exalted above all for ever.<br>Blessed art thou in the temple of thy holiness;<br>praised and exalted above all for ever.<br>Blessed art thou that beholdest the depths,<br>and dwellest between the Cherubim;<br>praised and exalted above all for ever.<br>Blessed art thou on the glorious throne of thy kingdom;<br>praised and exalted above all for ever.<br>Blessed art thou in the firmament of heaven;<br>praised and exalted above all for ever.<br>Blessed art thou, O Father, Son, and Holy Spirit;<br>praised and exalted above all for ever.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>",
        /* Tuesday */ "<br><span class='subhead'>A Song of Penitence</span><br><i style='color:darkred;'>Kyrie Pantokrator</i><br><i style='color:darkred;'>Prayer of Manasseh, 1-2, 4, 6-7, 11-15</i><br><br><span class='intro'>O Lord</span> Almighty,<br>God of our fathers,<br>of Abraham and Isaac and Jacob<br>and of their righteous offspring;<br>Thou hast made heaven and earth with all their<br>array;<br>All things quake with fear at thy presence;<br>they tremble because of thy power.<br>But thy merciful promise is beyond all measure;<br>it surpasseth all that our minds can fathom.<br>O Lord, thou art full of compassion,<br>long-suffering, and abounding in mercy.<br>Thou holdest back thy hand;<br>thou dost not punish as we deserve.<br>In thy great goodness, Lord, thou hast promised<br>forgiveness to sinners,<br>that they may repent of their sin and be saved.<br>And now, O Lord, I bend the knee of my heart,<br>and make my appeal, sure of thy gracious goodness.<br>I have sinned, O Lord, I have sinned,<br>and I know my wickedness only too well.<br>Therefore I make this prayer to thee:<br>Forgive me, Lord, forgive me.<br>Do not let me perish in my sin,<br>nor condemn me to the depths of the earth.<br>For thou, O Lord, art the God of those who repent,<br>and in me thou wilt show forth thy goodness;<br>Unworthy as I am, thou wilt save me,<br>in accordance with thy great mercy,<br>and I will praise thee without ceasing<br>all the days of my life.<br>For all the powers of heaven sing thy praises,<br>and thine is the glory to ages of ages.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>",
        /* Wednesday */ "<br><span class='subhead'>The Song of Simeon</span><br><i style='color:darkred;'>Nunc dimittis</i><br><i style='color:darkred;'>Luke 2:29-32</i><br><br><span class='intro'>Lord,</span> now lettest thou thy servant depart in peace,<br>according to thy word;<br>For mine eyes have seen thy salvation,<br>which thou hast prepared before the face of all people,<br>To be a light to lighten the Gentiles,<br>and to be the glory of thy people Israel.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>",
        /* Thursday */ "<br><span class='subhead'>The Song of Zechariah</span><br><i style='color:darkred;'>Benedictus Dominus Deus</i><br><i style='color:darkred;'>Luke 1:68-79</i><br><br><span class='intro'>Blessed be</span> the Lord God of Israel,<br>for he hath visited and redeemed his people;<br>And hath raised up a mighty salvation for us<br>in the house of his servant David,<br>As he spake by the mouth of his holy prophets,<br>which have been since the world began:<br>That we should be saved from our enemies,<br>and from the hand of all that hate us;<br>To perform the mercy promised to our forefathers,<br>and to remember his holy covenant;<br>To perform the oath which he sware to our forefather<br>Abraham, that he would give us,<br>That we being delivered out of the hand of our enemies<br>might serve him without fear,<br>In holiness and righteousness before him,<br>all the days of our life.<br><br>And thou, child, shalt be called the prophet of the<br>Highest, for thou shalt go before the face of the Lord<br>to prepare his ways;<br>To give knowledge of salvation unto his people<br>for the remission of their sins,<br>Through the tender mercy of our God,<br>whereby the dayspring from on high hath visited us;<br>To give light to them that sit in darkness<br>and in the shadow of death,<br>and to guide our feet into the way of peace.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>",
        /* Friday */ "<br><span class='subhead'>We Praise Thee</span><br><i style='color:darkred;'>Te Deum laudamus</i><br><br><span class='intro'>We praise thee</span>, O God; we acknowledge thee to be the Lord.<br>All the earth doth worship thee, the Father everlasting.<br>To thee all angels cry aloud,<br>the Heavens and all the Powers therein.<br>To thee Cherubim and Seraphim continually do cry:<br>Holy, holy, holy, Lord God of Sabaoth;<br>Heaven and earth are full of the majesty of thy glory.<br>The glorious company of the apostles praise thee.<br>The goodly fellowship of the prophets praise thee.<br>The noble army of martyrs praise thee.<br>The holy Church throughout all the world<br>doth acknowledge thee,<br>the Father, of an infinite majesty,<br>Thine adorable, true, and only Son,<br>also the Holy Ghost the Comforter.<br><br>Thou art the King of glory, O Christ.<br>Thou art the everlasting Son of the Father.<br>When thou tookest upon thee to deliver man,<br>thou didst humble thyself to be born of a Virgin.<br>When thou hadst overcome the sharpness of death,<br>thou didst open the kingdom of heaven to all believers.<br>Thou sittest at the right hand of God, in the glory of the Father.<br>We believe that thou shalt come to be our judge.<br>We therefore pray thee, help thy servants,<br>whom thou hast redeemed with thy precious blood.<br>Make them to be numbered with thy saints,<br>in glory everlasting.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>",
        /* Saturday */ "<br><span class='subhead'>The Song of Mary</span><br><i style='color:darkred;'>Magnificat</i><br><i style='color:darkred;'>Luke 1:46-55</i><br><br><span class='intro'>My soul</span> doth magnify the Lord,<br>and my spirit hath rejoiced in God my Savior.<br>For he hath regarded<br>the lowliness of his handmaiden.<br>For behold from henceforth<br>all generations shall call me blessed.<br>For he that is mighty hath magnified me,<br>and holy is his Name.<br>And his mercy is on them that fear him<br>throughout all generations.<br>He hath showed strength with his arm;<br>He hath scattered the proud in the imagination of their hearts.<br>He hath put down the mighty from their seat,<br>and hath exalted the humble and meek.<br>He hath filled the hungry with good things,<br>and the rich he hath sent empty away.<br>He remembering his mercy hath holpen his servant Israel,<br>as he promised to our forefathers,<br>Abraham and his seed forever.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>"
      ];

      // Create an array of second canticles for every day of the week
      let secondCanticles = [
        /* Sunday */ "<br><span class='subhead'>A Song of Christ's Appearing</span><br><i style='color:darkred;'>1 Timothy 3:16; 6:15,16</i><br><br><span class='intro'>Christ</span> was believed in throughout the world<br>and taken up in glory.<br><br>Christ Jesus was revealed in the flesh<br>and vindicated in the spirit.<br>He was seen by angels<br>and proclaimed among the nations.<br>Believed in throughout the world,<br>he was taken up in glory.<br>This will be made manifest at the proper time<br>by the blessed and only Sovereign,<br>Who alone has immortality,<br>and dwells in unapproachable light.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br><br>Christ was believed in throughout the world<br>and taken up in glory.",
        /* Monday */ "<br><span class='subhead'>A Song of God's Assembled</span><br><i style='color:darkred;'>Hebrews 12:22-24a,28,29</i><br><br><span class='intro'>We have</span> come before the throne of God<br>to share in the inheritance of the saints in light.<br><br>We have come before God's holy mountain,<br>to the heavenly Jerusalem, the city of the living God.<br>We have come before countless angels making festival,<br>before the assembly of the firstborn citizens of heaven.<br>We have come before God, who is judge of all,<br>before the spirits of the just made perfect.<br>We have come before Jesus,<br>the mediator of the new covenant.<br>We are receiving a kingdom that cannot be shaken:<br>so let us give thanks and offer to God acceptable worship,<br>Full of reverence and awe;<br>for our God is a consuming fire.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br><br>We have come before the throne of God<br>to share in the inheritance of the saints in light.",
        /* Tuesday */ "<br><span class='subhead'>A Song of God's Chosen One</span><br><i style='color:darkred;'>Isaiah 11:1,2,3b-4a,6,9</i><br><br><span class='intro'>The earth</span> shall be full of the knowledge of the Lord.<br><br>There shall come forth a shoot from the stock of Jesse,<br>and a branch shall grow out of his roots.<br>And the Spirit of the Lord shall rest upon him,<br>the spirit of wisdom and understanding,<br>The spirit of counsel and might,<br>the spirit of knowledge and the fear of the Lord.<br>He shall not judge by what his eyes see,<br>or decide by what his ears hear,<br>But with righteousness he shall judge the poor,<br>and decide with equity for the meek of the earth.<br>The wolf shall dwell with the lamb,<br>and the leopard shall lie down with the kid.<br>The calf, the lion and the fatling together,<br>with a little child to lead them.<br>They shall not hurt or destroy in all my holy mountain,<br>for the earth shall be full of the knowledge of the Lord<br>as the waters cover the sea.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br><br>The earth shall be full of the knowledge of the Lord.",
        /* Wednesday */ "<br><span class='subhead'>A Song of the Word of the Lord</span><br><i style='color:darkred;'>Isaiah 55:6-11</i><br><br><span class='intro'>Return</span> to the Lord, who will have mercy,<br>to our God, who will richly pardon.<br><br>Seek the Lord while he may be found,<br>call upon him while he is near;<br>Let the wicked abandon their ways,<br>and the unrighteous their thoughts;<br>Return to the Lord, who will have mercy;<br>to our God, who will richly pardon.<br>'For my thoughts are not your thoughts,<br>neither are your ways my ways,' says the Lord.<br>'For as the heavens are higher than the earth,<br>So are my ways higher than your ways<br>and my thoughts than your thoughts.<br>'As the rain and the snow come down from above,<br>and return not again but water the earth,<br>'Bringing forth life and giving growth,<br>seed for sowing and bread to eat,<br>'So is my word that goes forth from my mouth;<br>it will not return to me fruitless,<br>'But it will accomplish that which I purpose,<br>and succeed in the task I gave it.'<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br><br>Return to the Lord who will have mercy,<br>to our God, who will richly pardon.",
        /* Thursday */ "<br><span class='subhead'>A Song of Tobit</span><br><i style='color:darkred;'>Tobit 13:1,3,4-6a</i><br><br><span class='intro'>See what</span> the Lord our God has done<br>and exalt him in the sight of the living.<br><br>Blessed be God, who lives for ever,<br>whose reign endures throughout all ages.<br>Declare God's praise before the nations,<br>you who are the children of Israel.<br>For if our God has scattered you among them,<br>there too has he shown you his greatness.<br>Exalt him in the sight of the living,<br>because he is our Lord and God and our Father for ever.<br>Though God punishes you for your wickedness,<br>mercy will be shown to you all.<br>God will gather you from every nation,<br>from wherever you have been scattered.<br>When you turn to the Lord<br>with all your heart and soul,<br>God will hide his face from you no more.<br>See what the Lord has done for you<br>and give thanks with a loud voice.<br>Praise the Lord of righteousness<br>and exalt the King of the ages.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br><br>See what the Lord our God has done<br>and exalt him in the sight of the living.",
        /* Friday */ "<br><span class='subhead'>The Song of Christ's Glory</span><br><i style='color:darkred;'>Philippians 2:5-11</i><br><br><span class='intro'>At the name</span> of Jesus<br>every knee shall bow.<br><br>Christ Jesus was in the form of God,<br>but he did not cling to equality with God.<br>He emptied himself, taking the form of a servant,<br>and was born in our human likeness.<br>Being found in human form he humbled himself,<br>and became obedient unto death, even death on a cross.<br>Therefore God has highly exalted him,<br>and bestowed on him the name above every name,<br>That at the name of Jesus every knee shall bow,<br>in heaven and on earth and under the earth;<br>And every tongue confess that Jesus Christ is Lord,<br>to the glory of God the Father.<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br><br>At the name of Jesus<br>every knee shall bow.",
        /* Saturday */ "<br><span class='subhead'>The Song of Mary</span><br><i style='color:darkred;'>Magnificat</i><i style='color:darkred;'>David Mowbray</i><br><br><span class='intro'>With Mary</span> let my soul rejoice,<br>and praise God's holy name<br>his saving love from first to last,<br>from age to age the same!<br><br>How strong his arm, how great his power!<br>the proud he will disown;<br>the meek and humble he exalts<br>to share his glorious throne.<br><br>The rich our God will send away<br>and feed the hungry poor;<br>the arms of love remain outstretched<br>at mercy's open door.<br><br>So shall God's promise be fulfilled,<br>to Israel firmly made:<br>a child is born, a Son is given<br>whose crown will never fade.<br><br>All glory to the Father, Son<br>and Spirit now proclaim;<br>with Mary let the world rejoice<br>and praise God's holy name!<br><br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i>"
      ];

      // Create an array of collects for every day of the week
      let collects = [
        /* Sunday */ "<br><span class='intro'>Lord God,</span> whose Son our Savior Jesus Christ triumphed<br>over the powers of death and prepared for us our place<br>in the new Jerusalem: Grant that we, who have this day<br>given thanks for his resurrection, may praise thee in that<br>City of which he is the light, and where he liveth and<br>reigneth for ever and ever. <i>Amen.</i>",
        /* Monday */ "<br><span class='intro'>O God,</span> the King eternal, whose light divides the day<br>from the night and turns the shadow of death into the<br>morning: Drive far from us all wrong desires, incline our<br>hearts to keep thy law, and guide our feet into the way of<br>peace; that, having done thy will with cheerfulness while<br>it was day, we may, when night cometh, rejoice to give<br>thee thanks; through Jesus Christ our Lord. <i>Amen.</i>",
        /* Tuesday */ "<br><span class='intro'>O God,</span> whose glory it is always to have mercy: Be<br>gracious to all who have gone astray from thy ways, and<br>bring us again with penitent hearts and steadfast faith<br>to embrace and hold fast the unchangeable truth of thy<br>Word, Jesus Christ thy Son; who with thee and the Holy<br>Spirit liveth and reigneth, one God, for ever and ever. <i>Amen.</i>",
        /* Wednesday */ "<br><span class='intro'>O God,</span> who didst enlighten the holy Apostle Saint<br>Paul with the knowledge of thy Son Jesus Christ: Grant<br>us, we beseech thee, that, being rooted and grounded in<br>thy truth, we may be faithful to confess thy name,<br>through Jesus Christ our Lord, who liveth and reigneth<br>with thee and the Holy Spirit, one God, now and for ever. <i>Amen.</i>",
        /* Thursday */ "<br><span class='intro'>O God,</span> who in a wonderful Sacrament hast left unto us<br>a memorial of thy passion: Grant us, we beseech thee, so<br>to venerate the sacred mysteries of thy Body and Blood,<br>that we may ever perceive within ourselves the fruit of<br>thy redemption; who livest and reignest with the Father<br>and the Holy Spirit, one God, for ever and ever. <i>Amen.</i>",
        /* Friday */ "<br><span class='intro'>O Lord</span> Jesus Christ, who by thy death didst take away<br>the sting of death: Grant unto us thy servants so to<br>follow in faith where thou hast led the way, that we may<br>at length fall asleep peacefully in thee and awake up<br>after thy likeness; for thy tender mercies' sake. <i>Amen.</i>",
        /* Saturday */ "<br><span class='intro'>O God,</span> the source of eternal light: Shed forth thine<br>unending day upon us who watch for thee, that our lips<br>may praise thee, our lives may bless thee, and our<br>worship on the morrow may give thee glory; through Jesus<br>Christ our Lord. <i>Amen.</i>"
      ];      

      // Create an array of all books of the Bible
      let books = ["Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","FirstSamuel","SecondSamuel","FirstKings","SecondKings","FirstChronicles","SecondChronicles","Ezra","Nehemiah","Esther","Job","Proverbs","Ecclesiastes","SongOfSolomon","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","FirstEsdras","SecondEsdras","Tobit","Judith","Wisdom","Ecclesiasticus","Baruch","EpistleJeremiah","PrayerOfAzariah","Susanna","Bel","FirstMaccabees","SecondMaccabees","Matthew","Mark","Luke","John","Acts","Romans","FirstCorinthians","SecondCorinthians","Galatians","Ephesians","Philippians","Colossians","FirstThessalonians","SecondThessalonians","FirstTimothy","SecondTimothy","Titus","Philemon","Hebrews","James","FirstPeter","SecondPeter","FirstJohn","SecondJohn","ThirdJohn","Jude","Revelation"];
      // Create an array of all book abbreviations used in the 1979 Book of Common Prayer
      let abbreviations = ["Gen.","Exod.","Lev.","Num.","Deut.","Joshua","Judges","Ruth","1 Samuel","2 Samuel","1 Kings","2 Kings","1 Chron.","2 Chron.","Ezra","Neh.","Esther","Job","Prov.","Eccles.","Song","Isa.","Jeremiah","Lam.","Ezek.","Dan.","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Hab.","Zeph.","Haggai","Zech.","Mal.","1 Esdras","2 Esdras","Tobit","Jdt.","Wisdom","Ecclus.","Baruch","Ep.Jer.","Pr.Az.","Sus.","Bel","1 Macc.","2 Macc.","Matt.","Mark","Luke","John","Acts","Rom.","1 Cor.","2 Cor.","Gal.","Eph.","Philippians","Col.","1 Thess.","2 Thess.","1 Tim.","2 Tim.","Titus","Philemon","Heb.","James","1 Pet.","2 Pet.","1 John","2 John","3 John","Jude","Revelation"];

      // To test if a book is one of the Gospels
      const gospels = ["Matthew", "Mark", "Luke", "John"];
      // To test if a book has multiple parts
      const firstBooks = ["FirstSamuel","FirstKings","FirstChronicles","FirstEsdras","FirstMaccabees"];
      const secondBooks = ["SecondSamuel","SecondKings","SecondChronicles","SecondEsdras","SecondMaccabees"];
      // Test if a book is one of the Catholic Epistles of...
      const epistles = ["James","Jude"];
      const firstEpistles = ["FirstPeter","FirstJohn"];
      const secondEpistles = ["SecondPeter","SecondJohn"];
      const thirdEpistles = ["ThirdJohn"];
      // Test if a book is one of Paul's Epistles to...
      const epistlesPaul = ["Romans","Galatians","Ephesians","Philippians","Colossians","Hebrews"];
      const epistlesPaulTo = ["Titus","Philemon"];
      const firstEpistlesPaul = ["FirstCorinthians","FirstThessalonians"];
      const firstEpistlesPaulTo = ["FirstTimothy"];
      const secondEpistlesPaul = ["SecondCorinthians","SecondThessalonians"];
      const secondEpistlesPaulTo = ["SecondTimothy"];
      
      // Test if a book is in the Apocrypha
      const apocrypha = ["FirstEsdras","SecondEsdras","Tobit","Judith","Wisdom","Ecclesiasticus","Baruch","EpistleJeremiah","PrayerOfAzariah","Susanna","Bel","FirstMaccabees","SecondMaccabees"];

      // Get the day, month, and year from the current date
      let day = currentDate.getDate();
      let month = monthNames[currentDate.getMonth()]; // Get the month name
      let year = currentDate.getFullYear();

      // Get the position of the day of the week from the current date
      let dayPosition = currentDate.getDay();
   

      // Write code to assign a different versicle, hymn, canticle, and collect for each day of the week
      if (dayPosition == 0) {
        document.getElementById('versicle').innerHTML = versicles[0];
        document.getElementById('hymn').innerHTML = hymns[0];
        document.getElementById('second_hymn').innerHTML += secondHymns[0];
        document.getElementById('canticle').innerHTML += canticles[0];
        document.getElementById('second_canticle').innerHTML += secondCanticles[0];
        document.getElementById('collect').innerHTML += collects[0];        
      } else if (dayPosition == 1) {
        document.getElementById('versicle').innerHTML = versicles[1];
        document.getElementById('hymn').innerHTML = hymns[1];
        document.getElementById('second_hymn').innerHTML += secondHymns[1];
        document.getElementById('canticle').innerHTML += canticles[1];
        document.getElementById('second_canticle').innerHTML += secondCanticles[1];
        document.getElementById('collect').innerHTML += collects[1];        
      } else if (dayPosition == 2) {
        document.getElementById('versicle').innerHTML = versicles[2];
        document.getElementById('hymn').innerHTML = hymns[2];
        document.getElementById('second_hymn').innerHTML += secondHymns[2];
        document.getElementById('canticle').innerHTML += canticles[2];
        document.getElementById('second_canticle').innerHTML += secondCanticles[2];
        document.getElementById('collect').innerHTML += collects[2];        
      } else if (dayPosition == 3) {
        document.getElementById('versicle').innerHTML = versicles[3];
        document.getElementById('hymn').innerHTML = hymns[3];
        document.getElementById('second_hymn').innerHTML += secondHymns[3];
        document.getElementById('canticle').innerHTML += canticles[3];
        document.getElementById('second_canticle').innerHTML += secondCanticles[3];
        document.getElementById('collect').innerHTML += collects[3];        
      } else if (dayPosition == 4) {
        document.getElementById('versicle').innerHTML = versicles[4];
        document.getElementById('hymn').innerHTML = hymns[4];
        document.getElementById('second_hymn').innerHTML += secondHymns[4];
        document.getElementById('canticle').innerHTML += canticles[4];
        document.getElementById('second_canticle').innerHTML += secondCanticles[4];
        document.getElementById('collect').innerHTML += collects[4];        
      } else if (dayPosition == 5) {
        document.getElementById('versicle').innerHTML = versicles[5];
        document.getElementById('hymn').innerHTML = hymns[5];
        document.getElementById('second_hymn').innerHTML += secondHymns[5];
        document.getElementById('canticle').innerHTML += canticles[5];
        document.getElementById('second_canticle').innerHTML += secondCanticles[5];
        document.getElementById('collect').innerHTML += collects[5];        
      } else if (dayPosition == 6) {
        document.getElementById('versicle').innerHTML = versicles[6];
        document.getElementById('hymn').innerHTML = hymns[6];
        document.getElementById('second_hymn').innerHTML += secondHymns[6];
        document.getElementById('canticle').innerHTML += canticles[6];
        document.getElementById('second_canticle').innerHTML += secondCanticles[6];
        document.getElementById('collect').innerHTML += collects[6];        
      };

      // JavaScript to show the "First Button" when needed
      document.getElementById("bc-button").style.display = "inline-block";
      document.getElementById("luther-button").style.display = "inline-block";
      // When the user clicks on the confiteor-button, show the Confiteor
      document.getElementById("confiteor-button").onclick = function() {
        document.getElementById("confiteor").style.display = "block";
        document.getElementById("bc-confession").style.display = "none";
        document.getElementById("confiteor-button").style.display = "none";
        document.getElementById("bc-button").style.display = "inline-block";
      };
      // When the user clicks on the bc-button, show the Broad Church Confession
      document.getElementById("bc-button").onclick = function() {
        document.getElementById("bc-confession").style.display = "block";
        document.getElementById("confiteor").style.display = "none";
        document.getElementById("confiteor-button").style.display = "inline-block";
        document.getElementById("bc-button").style.display = "none";
      };
      // When the user clicks on the luther-button, show the Hail Mary
        document.getElementById("luther-button").onclick = function() {
        document.getElementById("hail").style.display = "block";
        document.getElementById("angelus").style.display = "none";
        document.getElementById("luther-button").style.display = "none";
        document.getElementById("angelus-button").style.display = "inline-block";
      };
      // When the user clicks on the angelus-button, show the Angelus
      document.getElementById("angelus-button").onclick = function() {
        document.getElementById("angelus").style.display = "block";
        document.getElementById("hail").style.display = "none";
        document.getElementById("angelus-button").style.display = "none";
        document.getElementById("luther-button").style.display = "inline-block";
      };

      // Define the formatted date
      const formattedDate = `${month} ${day}, ${year}`;

      // Find the "selected-date" div by its ID and set its content to the formatted date
      document.getElementById('selected-date').textContent = formattedDate;

      // Set an undefined variable for the date of Pentecost
      let pentecostDate;

      // Calculate how many days have passed since Easter
      const daysAfterEaster = calculateDaysAfterEaster(currentDate);

      // Define a function to determine how many days after Easter the current date is
      function calculateDaysAfterEaster(date) {
        // Calculate the date of Easter for the given year
        function calculateEaster(year) {
          const a = year % 19;
          const b = Math.floor(year / 100);
          const c = year % 100;
          const d = Math.floor(b / 4);
          const e = b % 4;
          const f = Math.floor((b + 8) / 25);
          const g = Math.floor((b - f + 1) / 3);
          const h = (19 * a + b - d - g + 15) % 30;
          const i = Math.floor(c / 4);
          const k = c % 4;
          const l = (32 + 2 * e + 2 * i - h - k) % 7;
          const m = Math.floor((a + 11 * h + 22 * l) / 451);
          const month = Math.floor((h + l - 7 * m + 114) / 31);
          const day = ((h + l - 7 * m + 114) % 31) + 1;
          return new Date(year, month - 1, day); // Month is 0-based in JavaScript
        };

        const currentYear = date.getFullYear();
        const easterDate = calculateEaster(currentYear);
        
        // Define pentecostDate (49 days after Easter)
        pentecostDate = new Date(easterDate.getFullYear(), easterDate.getMonth(), easterDate.getDate() + 49);

        // Calculate the difference in days
        const timeDifference = date - easterDate;
        const daysDifference = Math.floor(timeDifference / (1000 * 3600 * 24));

        return daysDifference;
      };

      /* TO FIND THE DATE FOR ADVENT */
      // Create a new date object for Christmas of the given year
      const christmasDate = new Date(year, 11, 25); // Month is 11 for December (0-based index)

      // Calculate the day of the week (0 = Sunday, 1 = Monday, etc.) for Christmas
      const christmasDayOfWeek = christmasDate.getDay();

      // The date of the Sunday before Christmas
      const oneSundayBeforeChristmas = new Date(year, 11, christmasDate.getDate() - christmasDayOfWeek - 1);

      // Define the Fourth Sunday before Christmas by finding the First Sunday before Christmas...
      const fourSundaysBeforeChristmas = new Date(year, 11, christmasDate.getDate() - christmasDayOfWeek);
      // and subtracting this by 21 (three weeks)
      fourSundaysBeforeChristmas.setDate(oneSundayBeforeChristmas.getDate() - 21);

      // Now, find out how many days after Easter Advent is
      const adventPosition = calculateDaysAfterEaster(fourSundaysBeforeChristmas);
      // Then, find out how many days after Easter Christmas is
      const christmasPosition = calculateDaysAfterEaster(new Date(year, 11, 25));
      // Then, find out how many days before Easter Epiphany is
      const epiphanyPosition = calculateDaysAfterEaster(new Date(year, 0, 6));

      // Find the positions of other holy days
      // The Holy Name of Our Lord Jesus Christ (January 1)
      const holyName = calculateDaysAfterEaster(new Date(year, 0, 1));
      // The Eve of the Epiphany (January 5)
      const epiphanyEve = calculateDaysAfterEaster(new Date(year, 0, 5));
      // The Confession of Saint Peter the Apostle (January 18)
      const peterConfession = calculateDaysAfterEaster(new Date(year, 0, 18));
      // The Conversion of Saint Paul the Apostle (January 25)
      const paulConversion = calculateDaysAfterEaster(new Date(year, 0, 25));
      // The Presentation of Our Lord Jesus Christ in the Temple (February 2)
      const presentation = calculateDaysAfterEaster(new Date(year, 1, 2));
      // Saint Matthias the Apostle (February 24)
      const matthias = calculateDaysAfterEaster(new Date(year, 1, 24));
      // Saint Joseph (March 19)
      const joseph = calculateDaysAfterEaster(new Date(year, 2, 19));
      // The Eve of the Annunciation of Our Lord Jesus Christ to the Blessed Virgin Mary (March 24)
      const annunciationEve = calculateDaysAfterEaster(new Date(year, 2, 24));
      // The Annunciation of Our Lord Jesus Christ to the Blessed Virgin Mary (March 25)
      const annunciation = calculateDaysAfterEaster(new Date(year, 2, 25));
      // Saint Mark the Evangelist (April 25)
      const mark = calculateDaysAfterEaster(new Date(year, 3, 25));
      // Saint Philip and Saint James, Apostles (May 1)
      const philipJames = calculateDaysAfterEaster(new Date(year, 4, 1));
      // The Eve of the Visitation of the Blessed Virgin Mary (May 30)
      const visitationEve = calculateDaysAfterEaster(new Date(year, 4, 30));
      // The Visitation of the Blessed Virgin Mary (May 31)
      const visitation = calculateDaysAfterEaster(new Date(year, 4, 31));
      // Saint Barnabas the Apostle (June 11)
      const barnabas = calculateDaysAfterEaster(new Date(year, 5, 11));
      // The Eve of the Nativity of Saint John the Baptist (June 23)
      const johnBaptistEve = calculateDaysAfterEaster(new Date(year, 5, 23));
      // The Nativity of Saint John the Baptist (June 24)
      const johnBaptist = calculateDaysAfterEaster(new Date(year, 5, 24));
      // Saint Peter and Saint Paul, Apostles (June 29)
      const peterPaul = calculateDaysAfterEaster(new Date(year, 5, 29));
      // Independence Day
      const independence = calculateDaysAfterEaster(new Date(year, 6, 4));
      // Saint Mary Magdalene (July 22)
      const maryMagdalene = calculateDaysAfterEaster(new Date(year, 6, 22));
      // Saint James the Apostle (July 25)
      const james = calculateDaysAfterEaster(new Date(year, 6, 25));
      // The Transfiguration of Our Lord Jesus Christ (August 6)
      const transfiguration = calculateDaysAfterEaster(new Date(year, 7, 6));
      // Saint Mary the Virgin, Mother of Our Lord Jesus Christ (August 15)
      const maryVirgin = calculateDaysAfterEaster(new Date(year, 7, 15));
      // Saint Bartholomew the Apostle (August 24)
      const bartholomew = calculateDaysAfterEaster(new Date(year, 7, 24));
      // Eve of Holy Cross Day (September 13)
      const holyCrossEve = calculateDaysAfterEaster(new Date(year, 8, 13));
      // Holy Cross Day (September 14)
      const holyCross = calculateDaysAfterEaster(new Date(year, 8, 14));
      // Saint Matthew, Apostle and Evangelist (September 21)
      const matthew = calculateDaysAfterEaster(new Date(year, 8, 21));
      // Saint Michael and All Angels (September 29)
      const michael = calculateDaysAfterEaster(new Date(year, 8, 29));
      // Saint Luke the Evangelist (October 18)
      const luke = calculateDaysAfterEaster(new Date(year, 9, 18));
      // Saint James of Jerusalem, Brother of Our Lord Jesus Christ, and Martyr (October 23)
      const jamesJerusalem = calculateDaysAfterEaster(new Date(year, 9, 23));
      // Saint Simon and Saint Jude, Apostles (October 28)
      const simonJude = calculateDaysAfterEaster(new Date(year, 9, 28));
      // Eve of All Saints' Day (October 31)
      const allSaintsEve = calculateDaysAfterEaster(new Date(year, 9, 31));
      // All Saints' Day (November 1)
      const allSaints = calculateDaysAfterEaster(new Date(year, 10, 1));
      // All Souls' Day (November 2)
      const allSouls = calculateDaysAfterEaster(new Date(year, 10, 2));
      // Saint Andrew the Apostle (November 30)
      const andrew = calculateDaysAfterEaster(new Date(year, 10, 30));
      // Saint Thomas the Apostle (December 21)
      const thomas = calculateDaysAfterEaster(new Date(year, 11, 21));
      // Christmas Eve (December 24)
      const christmasEve = calculateDaysAfterEaster(new Date(year, 11, 24));
      // Saint Stephen, Deacon and Martyr (December 26)
      const stephen = calculateDaysAfterEaster(new Date(year, 11, 26));
      // Saint John, Apostle and Evangelist (December 27)
      const john = calculateDaysAfterEaster(new Date(year, 11, 27));
      // The Holy Innocents (December 28)
      const innocents = calculateDaysAfterEaster(new Date(year, 11, 28));
      // The Eve of Holy Name (December 31)
      const holyNameEve = calculateDaysAfterEaster(new Date(year, 11, 31));

      // Define the day of the week  
      let dayOfWeekName = dayNames[currentDate.getDay()];

      // Set undefined variables for the lectionary dates
      let seasonName;

      // Leave the Proper undefined
      let proper;

      // Leave the holy day key undefined
      let holyKey;

      // Check if daysAfterEaster is equal to any of the holy days
      if (daysAfterEaster == holyName) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Holy Name of Our Lord Jesus Christ";
      } else if (daysAfterEaster == peterConfession) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Confession of Saint Peter the Apostle";
      } else if (daysAfterEaster == paulConversion) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Conversion of Saint Paul the Apostle";
      } else if (daysAfterEaster == presentation) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Presentation of Our Lord Jesus Christ in the Temple";
      } else if (daysAfterEaster == matthias) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Matthias the Apostle";
      } else if (daysAfterEaster == joseph) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Joseph";
      } else if (daysAfterEaster == annunciation) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Annunciation of Our Lord Jesus Christ to the Blessed Virgin Mary";
      } else if (daysAfterEaster == mark) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Mark the Evangelist";
      } else if (daysAfterEaster == philipJames) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Philip and Saint James, Apostles";
      } else if (daysAfterEaster == visitation) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Visitation of the Blessed Virgin Mary";
      } else if (daysAfterEaster == barnabas) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Barnabas the Apostle";
      } else if (daysAfterEaster == johnBaptist) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Nativity of Saint John the Baptist";
      } else if (daysAfterEaster == peterPaul) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Peter and Saint Paul, Apostles";
      } else if (daysAfterEaster == independence) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Independence Day";
      } else if (daysAfterEaster == maryMagdalene) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Mary Magdalene";
      } else if (daysAfterEaster == james) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint James the Apostle";
      } else if (daysAfterEaster == transfiguration) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Transfiguration of Our Lord Jesus Christ";
      } else if (daysAfterEaster == maryVirgin) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Mary the Virgin, Mother of Our Lord Jesus Christ";
      } else if (daysAfterEaster == bartholomew) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Bartholomew the Apostle";
      } else if (daysAfterEaster == holyCrossEve) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Eve of Holy Cross Day";
        // Set the holyKey as follows
        holyKey = "eve-of-holy-cross";
      } else if (daysAfterEaster == holyCross) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Holy Cross Day";
      } else if (daysAfterEaster == matthew) {  
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Matthew, Apostle and Evangelist";
        // Set the holyKey as follows
        holyKey = "st-matthew";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[0];
        // Set the hymn as follows 
        document.getElementById('hymn').innerHTML = holyHymns[0];
        // Set the collect as follows
        document.getElementById('collect').innerHTML = holyCollects[0];
      } else if (daysAfterEaster == michael) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Michael and All Angels";
        // Set the holyKey as follows
        holyKey = "st-michael";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[1];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[1];
        // Set the collect as follows
        document.getElementById('collect').innerHTML = holyCollects[1];
      } else if (daysAfterEaster == luke) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Luke the Evangelist";
        // Set the holyKey as follows
        holyKey = "st-luke";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[2];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[2];
      } else if (daysAfterEaster == jamesJerusalem) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint James of Jerusalem, Brother of Our Lord Jesus Christ, and Martyr";
        // Set the holyKey as follows
        holyKey = "st-james-of-jerusalem";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[3];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[3];
      } else if (daysAfterEaster == simonJude) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Simon and Saint Jude, Apostles";
        // Set the holyKey as follows
        holyKey = "ss-simon-and-jude";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[4];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[4];
      } else if (daysAfterEaster == allSaintsEve) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "All Hallows' Eve";
        // Set the holyKey as follows
        holyKey = "eve-of-all-saints";
      } else if (daysAfterEaster == allSaints) {
        console.log("It's All Saints' Day");
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "All Saints' Day";
        // Set the holyKey as follows
        holyKey = "all-saints-day";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[5];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[5];
      } else if (daysAfterEaster == allSouls) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "All Souls' Day";
        // Set the holyKey as follows
        holyKey = "all-souls-day";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[6];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[6];
      } else if (daysAfterEaster == andrew) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Andrew the Apostle";
        // Set the holyKey as follows
        holyKey = "st-andrew";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[7];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[7];
      } else if (daysAfterEaster == thomas) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Thomas the Apostle";
        // Set the holyKey as follows
        holyKey = "st-thomas";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[8];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[8];
      } else if (daysAfterEaster == christmasEve) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Christmas Eve";
        // Set the holyKey as follows
        holyKey = "christmas-eve";
      } else if (daysAfterEaster == stephen) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint Stephen, Deacon and Martyr";
        // Set the holyKey as follows
        holyKey = "st-stephen";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[9];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[9];
      } else if (daysAfterEaster == john) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Saint John, Apostle and Evangelist";
        // Set the holyKey as follows
        holyKey = "st-john";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[10];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[10];
      } else if (daysAfterEaster == innocents) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Holy Innocents";
        // Set the holyKey as follows
        holyKey = "holy-innocents";
        // Set the versicle as follows
        document.getElementById('versicle').innerHTML = holyVersicles[11];
        // Set the hymn as follows
        document.getElementById('hymn').innerHTML = holyHymns[11];
      } else if (daysAfterEaster == holyNameEve) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "The Eve of the Holy Name of Our Lord Jesus Christ";
        // Set the holyKey as follows
        holyKey = "eve-holy-name";
      } else if (daysAfterEaster == -46) {
        console.log("It's Ash Wednesday");
      } else if (-46 < daysAfterEaster && daysAfterEaster < 0) {
        console.log("It's Lent Season")
      } else if (daysAfterEaster == 0) {
        console.log("It's Easter Day");
      } else if (0 < daysAfterEaster && daysAfterEaster < 49) {
        console.log("It's Easter Season");
      } else if (daysAfterEaster == 49) {
        // Set the day as follows
        document.getElementById('ordinal-date').textContent = "Whitsunday (Pentecost)";
      } else if (49 < daysAfterEaster && daysAfterEaster < adventPosition) {
        console.log("It's Pentecost Season");
        // Define seasonName as "proper"
        seasonName = "proper";
        // Define how many days after Pentecost it is
        let daysAfterPentecost = daysAfterEaster - 49;
        // Determine which Sunday of Pentecost the target date falls on
        let sundayOfPentecost = Math.floor(daysAfterPentecost/7);
        // Determine the ordinal number of the Sunday
        let ordinalSunday = sundaysAfter[sundayOfPentecost-1];
        // Determine the day of the week
        let weekDay = dayNames[daysAfterPentecost - (sundayOfPentecost * 7)];
        // Calculate the First Proper after Pentecost
        let firstProper;
        // If pentecostDate is May 8 to May 14...
        if (pentecostDate.getMonth() == 4 && pentecostDate.getDate() >= 8 && pentecostDate.getDate() <= 14) {
          // Set firstProper to 1
          firstProper = 1;
        // If pentecostDate is May 15 to May 21...
        } else if (pentecostDate.getMonth() == 4 && pentecostDate.getDate() >= 15 && pentecostDate.getDate() <= 21) {
          // Set firstProper to 2
          firstProper = 2;
        // If pentecostDate is May 22 to May 28...
        } else if (pentecostDate.getMonth() == 4 && pentecostDate.getDate() >= 22 && pentecostDate.getDate() <= 28) {
          // Set firstProper to 3
          firstProper = 3;
        // If pentecostDate is May 29 to June 4...
        } else if (pentecostDate.getMonth() == 4 && pentecostDate.getDate() >= 29 || pentecostDate.getMonth() == 5 && pentecostDate.getDate() <= 4) {
          // Set firstProper to 4
          firstProper = 4;
        // If pentecostDate is June 5 to June 11...
        } else if (pentecostDate.getMonth() == 5 && pentecostDate.getDate() >= 5 && pentecostDate.getDate() <= 11) {
          // Set firstProper to 5
          firstProper = 5;
        // If pentecostDate is June 12 to June 18...
        } else if (pentecostDate.getMonth() == 5 && pentecostDate.getDate() >= 12 && pentecostDate.getDate() <= 18) {
          // Set firstProper to 6
          firstProper = 6;
        };
        // Set the Proper after Pentecost
        proper = firstProper + sundayOfPentecost;
        // If it is a Sunday...
        if (weekDay == "Sunday") {
          // Set the day as follows
          document.getElementById('ordinal-date').textContent = "The " + ordinalSunday + " Sunday after Pentecost";
        // Otherwise...
        } else {
          // If it is the week after Pentecost...
          if (sundayOfPentecost == 0) {
            // Set the day as follows
            document.getElementById('ordinal-date').textContent = "The " + weekDay + " after Pentecost";
          } else {
            // Set the day as follows
            document.getElementById('ordinal-date').textContent = "The " + weekDay + " after the " + ordinalSunday + " Sunday after Pentecost";
          }
        };
      } else if (daysAfterEaster == adventPosition) {
        console.log("It's Advent");
      } else if (adventPosition < daysAfterEaster && daysAfterEaster < christmasPosition) {
        // Define how many days after Advent it is
        let daysAfterAdvent = daysAfterEaster - adventPosition;
        // Determine which Sunday of Advent the target date falls on.
        let sundayOfAdvent = Math.floor(daysAfterAdvent/7);
        // Determine the ordinal number of the Sunday
        let ordinalSunday = sundaysAfter[sundayOfAdvent];
        // Determine the day of the week
        let weekDay = dayNames[daysAfterAdvent - (sundayOfAdvent * 7)];
        // If it is a Sunday...
        if (weekDay == "Sunday") {
          // Set the day as follows
          document.getElementById('ordinal-date').textContent = "The " + ordinalSunday + " Sunday of Advent";
        // Otherwise...
        } else {
          // Set the day as follows
          document.getElementById('ordinal-date').textContent = "The " + weekDay + " after the " + ordinalSunday + " Sunday of Advent";
        }
      } else if (daysAfterEaster == christmasPosition) {
        console.log("It's Christmas");
      } else if (christmasPosition < daysAfterEaster && daysAfterEaster <= christmasPosition + 6 || holyName <= daysAfterEaster && daysAfterEaster < epiphanyPosition) {
        console.log("It's Christmas Season");
      } else if (daysAfterEaster == epiphanyPosition) {
        console.log("It's Epiphany Day");
      } else if (epiphanyPosition < daysAfterEaster && daysAfterEaster < -46) {
        console.log("It's Epiphany Season");
      };

      // Define psalmSchedulePath
      const psalmSchedulePath = 'support/bcp1979_daily_psalms.json';
      // Define psalmSlugPath
      const psalmSlugPath = 'support/by_slug.json';
// Define the dailyOfficePath
      const dailyOfficePath = 'support/bcp1979_daily_office.json';

      // Run the function to return the psalm and lesson schedule and readings
      getPsalmSchedule();
      
      // Define an asynchronous function to access the data in support/bcp1979_daily_psalms.json and log it to the console
      async function getPsalmSchedule() {

        // Define an empty array to hold the evening psalm key 
        let eveningPsalmKey = [];
        // Define an empty array to hold the morning psalm key
        let morningPsalmKey = [];
        // Define an empty array to hold the evening psalm verses
        let eveningPsalmVerses = [];
        // Define an empty array to hold the morning psalm verses
        let morningPsalmVerses = [];

// An undefined variable to hold the first reading key
        let firstReadingKey;
// An undefined variable to hold the second reading key
        let secondReadingKey;
// An undefined variable to hold the third reading key
        let thirdReadingKey = "";
// An undefined variable to hold the fourth reading key
        let fourthReadingKey = "";

        // Empty the eveningPsalmKey array
        eveningPsalmKey.length = 0;
        // Empty the morningPsalmKey array
        morningPsalmKey.length = 0;
        // Empty the eveningPsalmVerses array
        eveningPsalmVerses.length = 0;
        // Empty the morningPsalmVerses array
        morningPsalmVerses.length = 0;
        
        // Use fetch() to fetch the data in support/bcp1979_daily_psalms.json
        const response = await fetch(psalmSchedulePath);
        // Use await to wait for the response to be returned
        const psalmSchedule = await response.json();

        // Use fetch() to fetch the data in support/by_slug.json
        const slugResponse = await fetch(psalmSlugPath);
        // Use await to wait for the response to be returned
        const psalmSlug = await slugResponse.json();

// Use fetch() to fetch the data in support/bcp1979_daily_office.json
        const officeResponse = await fetch(dailyOfficePath);
// Use await to wait for the response to be returned
        const dailyOfficeSchedule = await officeResponse.json();
        
        // Establish an undefined variable to identify the lectionaryYear
        let lectionaryYear;
        // Define the year of the chosen date
        const year = currentDate.getFullYear();
        // If the year is an odd year...
        if (year % 2 == 1) {
          // Set lectionaryYear to 1
          lectionaryYear =  "1";
        } else {
          // Otherwise, set lectionaryYear to 2
          lectionaryYear = "2";
        };

// Need to revise this to be specific to the liturgical season
        // Define the lectionaryKey
        let lectionaryKey;
        // If the holyKey is defined...
        if (holyKey) {
          // Set the lectionaryKey to the holyKey
          lectionaryKey = holyKey;
        } else {
          // Otherwise, set the lectionaryKey to the day of the week and the proper
          lectionaryKey = dayOfWeekName.toLowerCase() + "-proper-" + proper.toString();
        };

        // Loop through the psalmSchedule object
        for (let i = 0; i < psalmSchedule.length; i++) {
          
          // Convert the psalmSchedule[i].id to a numeric value
          let psalmId = parseInt(psalmSchedule[i].id);

          // Order the psalmSchedule by the psalmId
          psalmSchedule.sort(function(a, b) {
            return a.id - b.id;
          });
          
          // If the day of the year is equal to the current day of the year...
          if (psalmSchedule[i].day == lectionaryKey && psalmSchedule[i].when == lectionaryYear) {
            // If the type is "evening_psalms"...
            if (psalmSchedule[i].type == "evening_psalms") {
              // Push the key to the eveningPsalmKey array in the order of the psalmId
              eveningPsalmKey.push(psalmSchedule[i].citation);
            } else {
              // Otherwise, push the key to the morningPsalmKey array
              morningPsalmKey.push(psalmSchedule[i].citation);             
            };
          };
        };

// Loop through the dailyOfficeSchedule object
        for (let i = 0; i < dailyOfficeSchedule.length; i++) {
          // If the day of the year is equal to the current day of the year and the type includes "holy_day"...
          if (dailyOfficeSchedule[i].day == lectionaryKey && dailyOfficeSchedule[i].type.includes("holy_day")) {
            // If the type is "holy_day_morning_1", push the key to the firstReadingKey array
            if (dailyOfficeSchedule[i].type == "holy_day_morning_1") {
              // Push the key to the firstReadingKey array
              firstReadingKey = dailyOfficeSchedule[i].citation;
            } else if (dailyOfficeSchedule[i].type == "holy_day_morning_2") {
              // Otherwise, push the key to the secondReadingKey array
              secondReadingKey = dailyOfficeSchedule[i].citation;
            } else if (dailyOfficeSchedule[i].type == "holy_day_evening_1") {
              // Otherwise, push the key to the thirdReadingKey array
              thirdReadingKey = dailyOfficeSchedule[i].citation;
            } else if (dailyOfficeSchedule[i].type == "holy_day_evening_2") {
              // Otherwise, push the key to the fourthReadingKey array
              fourthReadingKey = dailyOfficeSchedule[i].citation;
            };
          }        
          // If the day of the year is equal to the current day of the year...
          else if (dailyOfficeSchedule[i].day == lectionaryKey && dailyOfficeSchedule[i].when == lectionaryYear) {
            // If the type is "first_reading"...
            if (dailyOfficeSchedule[i].type == "first_reading") {
              // Push the key to the firstReadingKey array
              firstReadingKey = dailyOfficeSchedule[i].citation;
            } else if (dailyOfficeSchedule[i].type == "second_reading") {
              // Otherwise, push the key to the secondReadingKey array
              secondReadingKey = dailyOfficeSchedule[i].citation;
            } else if (dailyOfficeSchedule[i].type == "gospel") {
              // Otherwise, push the key to the thirdReadingKey array
              thirdReadingKey = dailyOfficeSchedule[i].citation;
            } 
          };
        };

        // Define the "first_reading_citation" element
        document.getElementById('first_reading_citation').innerHTML = firstReadingKey;
        // Define the "second_reading_citation" element
        document.getElementById('second_reading_citation').innerHTML = secondReadingKey;
        // Define the "third_reading_citation" element
        document.getElementById('third_reading_citation').innerHTML = thirdReadingKey;
        // Define the "fourth_reading_citation" element
        document.getElementById('fourth_reading_citation').innerHTML = fourthReadingKey;

// Check if any string segment in firstReadingKey is equal to any string in the abbreviation array
        for (let i = 0; i < abbreviations.length; i++) {
          // If the firstReadingKey includes the abbreviation...
          if (firstReadingKey.includes(abbreviations[i])) {
            // Replace the abbreviation with the full book name
            firstReadingKey = firstReadingKey.replace(abbreviations[i], books[i]);
          };
          // If the secondReadingKey includes the abbreviation...
          if (secondReadingKey.includes(abbreviations[i])) {
            // Replace the abbreviation with the full book name
            secondReadingKey = secondReadingKey.replace(abbreviations[i], books[i]);
          };
          // If the thirdReadingKey includes the abbreviation...
          if (thirdReadingKey.includes(abbreviations[i])) {
            // Replace the abbreviation with the full book name
            thirdReadingKey = thirdReadingKey.replace(abbreviations[i], books[i]);
          };
          // If the fourthReadingKey includes the abbreviation...
          if (fourthReadingKey.includes(abbreviations[i])) {
            // Replace the abbreviation with the full book name
            fourthReadingKey = fourthReadingKey.replace(abbreviations[i], books[i]);
          };
        };

        console.log(firstReadingKey);
        console.log(secondReadingKey);
        console.log(thirdReadingKey);
        console.log(fourthReadingKey);

// The books and chapters of the readings
        // Define the name of the books
        let frBookName = firstReadingKey.split(" ")[0];
        let srBookName = secondReadingKey.split(" ")[0];
        let trBookName = thirdReadingKey.split(" ")[0];
        let ftrBookName = fourthReadingKey.split(" ")[0];
        // Define an empty array to hold the possible chapter numbers
        //let frChapterNumbers = [];
        //let srChapterNumbers = [];
        // Define an empty array to hold the possible chapter json paths
        let frChapterPaths = [];
        let srChapterPaths = [];
        let trChapterPaths = [];
        let ftrChapterPaths = [];
        
        // Define a function to format the book name
        function formatBookName(bookName) {
          if (gospels.includes(bookName)) {
            return "The Gospel of " + bookName;
          } else if (firstBooks.includes(bookName)) {
            return "The First Book of " + bookName.replace("First", "");
          } else if (secondBooks.includes(bookName)) {
            return "The Second Book of " + bookName.replace("Second", "");
          } else if (bookName === "SongOfSolomon") {
            return "The Song of Solomon";
          } else if (bookName === "Ecclesiastes") {
            return "Ecclesiastes";
          } else if (bookName === "Ecclesiasticus") {
            return "Ecclesiasticus";
          } else if (bookName === "EpistleJeremiah") {
            return "The Epistle of Jeremiah";
          } else if (bookName === "PrayerOfAzariah") {
            return "The Prayer of Azariah and the Song of the Three Jews";
          } else if (bookName === "Susanna") {
            return "The Story of Susanna";
          } else if (bookName === "Bel") {
            return "Bel and the Dragon";
          } else if (epistles.includes(bookName)) {
            return "The Epistle of St. " + bookName + " the Apostle";
          } else if (firstEpistles.includes(bookName)) {
            return "The First Epistle of St. " + bookName.replace("First", "") + " the Apostle";
          } else if (secondEpistles.includes(bookName)) {
            return "The Second Epistle of St. " + bookName.replace("Second", "") + " the Apostle";
          } else if (thirdEpistles.includes(bookName)) {
            return "The Third Epistle of St. " + bookName.replace("Third", "") + " the Apostle";
          } else if (epistlesPaul.includes(bookName)) {
            return "The Epistle of St. Paul the Apostle to the " + bookName;
          } else if (epistlesPaulTo.includes(bookName)) {
            return "The Epistle of St. Paul the Apostle to " + bookName;
          } else if (firstEpistlesPaul.includes(bookName)) {
            return "The First Epistle of St. Paul the Apostle to the " + bookName.replace("First", "");
          } else if (secondEpistlesPaul.includes(bookName)) {
            return "The Second Epistle of St. Paul the Apostle to the " + bookName.replace("Second", "");
          } else if (firstEpistlesPaulTo.includes(bookName)) {
            return "The First Epistle of St. Paul the Apostle to " + bookName.replace("First", "");
          } else if (secondEpistlesPaulTo.includes(bookName)) {
            return "The Second Epistle of St. Paul the Apostle to " + bookName.replace("Second", "");
          } else {
            return "The Book of " + bookName;
          }
        };

        // Format the book names and assign them to variables
        let bookVal = formatBookName(frBookName);
        let sBookVal = formatBookName(srBookName);
        let tBookVal = formatBookName(trBookName);
        let ftBookVal = formatBookName(ftrBookName);

        // Update the reading headings according to Gospel status
        updateReadingHeading(frBookName, 'reading_heading', 'The Holy Gospel of our Lord Jesus Christ according to ', bookVal);
        updateReadingHeading(srBookName, 'second_reading_heading', 'The Holy Gospel of our Lord Jesus Christ according to ', sBookVal);
        updateReadingHeading(trBookName, 'third_reading_heading', 'The Holy Gospel of our Lord Jesus Christ according to ', tBookVal);
        updateReadingHeading(ftrBookName, 'fourth_reading_heading', 'The Holy Gospel of our Lord Jesus Christ according to ', ftBookVal);

        console.log(ftrBookName);

        // Define a function to update reading headings based on Gospel status
        function updateReadingHeading(bookName, elementId, prefix, bookValue) {
          const element = document.getElementById(elementId);
          // If the reading is a Gospel...
          if (gospels.includes(bookName)) {
            element.textContent = prefix + bookName;
          // Else if the reading is not a Gospel...
          } else {
            element.textContent = 'A reading from ' + bookValue;
          };
        };
      
        // A variable to hold the first reading text
        let firstReadingText = "";
        let secondReadingText = "";
        let thirdReadingText = "";
        let fourthReadingText = "";

        // Function to extract chapter numbers from a reading key
        function extractChapterNumbers(readingKey) {
          const chapterNumbers = [];
          const segments = readingKey.split(",");
          
          for (const segment of segments) {
            const parts = segment.split(":");
            
            if (parts.length >= 2) {
              // Get the two characters before the first and second colons
              const firstPart = parts[0].slice(-2).replace(/[\s,-]+/g, '');
              const secondPart = parts[1].slice(-2).replace(/[\s,-]+/g, '');
              
              if (firstPart) chapterNumbers.push(firstPart);
              if (secondPart) chapterNumbers.push(secondPart);
            } else if (parts.length === 1) {
              // Get the two characters before the colon
              const firstPart = parts[0].split(":")[0].slice(-2).replace(/[\s,-]+/g, '');
              
              if (firstPart) chapterNumbers.push(firstPart);
            }
          }
          
          return chapterNumbers;
        }

        // Clear the arrays
        //frChapterNumbers.length = 0;
        frChapterPaths.length = 0;
        //srChapterNumbers.length = 0;
        srChapterPaths.length = 0;
        trChapterPaths.length = 0;
        ftrChapterPaths.length = 0;

        // Extract chapter numbers for firstReadingKey
        const frChapterNumbers = extractChapterNumbers(firstReadingKey);
        // Extract chapter numbers for secondReadingKey
        const srChapterNumbers = extractChapterNumbers(secondReadingKey);
        // Extract chapter numbers for thirdReadingKey
        const trChapterNumbers = extractChapterNumbers(thirdReadingKey);
        // Extract chapter numbers for fourthReadingKey
        const ftrChapterNumbers = extractChapterNumbers(fourthReadingKey);

        // Generate chapter paths
        for (const number of frChapterNumbers) {
          if (number) frChapterPaths.push(`nrsv/${frBookName}-${number}.json`);
        };

        for (const number of srChapterNumbers) {
          if (number) srChapterPaths.push(`nrsv/${srBookName}-${number}.json`);
        };

        for (const number of trChapterNumbers) {
          if (number) trChapterPaths.push(`nrsv/${trBookName}-${number}.json`);
        };

        for (const number of ftrChapterNumbers) {
          if (number) ftrChapterPaths.push(`nrsv/${ftrBookName}-${number}.json`);
        };


// The verses for each book and chapter of the readings

        // Define a function to split and clean verses
        function splitAndCleanVerses(readingKey, chapterNumbers) {
          const regexPattern = new RegExp(chapterNumbers.map(num => `(${num}:)`, "g").join("|"));
          const verses = readingKey.split(regexPattern).filter(Boolean);

          // Pop the first entry (The book name)
          verses.shift();

          // Remove trailing commas
          return verses.map(verse => (verse.endsWith(",") ? verse.slice(0, -1) : verse));
        };

        // Define an empty array to hold objects with the reading verses
        //let firstReadingObject = [];
        //let secondReadingObject = [];

        // An undefined variable to hold the reading verses
        let firstReadingVerses = splitAndCleanVerses(firstReadingKey, frChapterNumbers);
        let secondReadingVerses = splitAndCleanVerses(secondReadingKey, srChapterNumbers);
        let thirdReadingVerses = splitAndCleanVerses(thirdReadingKey, trChapterNumbers);
        let fourthReadingVerses = splitAndCleanVerses(fourthReadingKey, ftrChapterNumbers);

        // Define a function to create reading objects
        function createReadingObjects(verses, chapterPaths, chapterNumbers) {
          const readingObjects = [];
          for (let i = 0; i < verses.length; i++) {
            // If the entry includes a colon...
            if (verses[i].includes(":")) {
              readingObjects.push({"book": chapterPaths[chapterNumbers.indexOf(verses[i].split(":")[0])],"verses": verses[i+1]});
            }
          };
          return readingObjects;
        };

        const firstReadingObject = createReadingObjects(firstReadingVerses, frChapterPaths, frChapterNumbers);
        const secondReadingObject = createReadingObjects(secondReadingVerses, srChapterPaths, srChapterNumbers);
        const thirdReadingObject = createReadingObjects(thirdReadingVerses, trChapterPaths, trChapterNumbers);
        const fourthReadingObject = createReadingObjects(fourthReadingVerses, ftrChapterPaths, ftrChapterNumbers);

        let followingVerse;
        let followingVerse2;
        let followingVerse3;
        let followingVerse4;

        // Define a function to process reading objects and range transformations
        function processReadingObjects(readingObject, followingVerse) {
          for (let i = 0; i < readingObject.length; i++) {
            // Split the verses at the commas
            readingObject[i].verses = readingObject[i].verses.split(",");
            
            for (let x = 0; x < readingObject[i].verses.length; x++) {
              const verse = readingObject[i].verses[x];
              
              if (verse.includes("-")) {
                const verseRange = verse.split("-");
                
                if (verseRange[1] == "") {
                  // Replace the verse as follows
                  readingObject[i].verses[x] = `bookVerse >= ${verseRange[0]}`;
                  // And identify the following object's first verse
                  followingVerse = readingObject[i + 1].verses[0];
                } else {
                  // Replace the verse with the range of verses
                  readingObject[i].verses[x] = `${verseRange[0]} <= bookVerse && bookVerse <= ${verseRange[1]}`;
                }
              } else if (readingObject[i].verses.includes(followingVerse)) {
                // Prepend "< " to the verse
                readingObject[i].verses[readingObject[i].verses.indexOf(followingVerse)] = `bookVerse <= ${followingVerse}`;
              } else {
                // Replace the verse with the following
                readingObject[i].verses[x] = `bookVerse == ${verse}`;
              };
            };
          };
        };

        // Process the firstReadingObject
        processReadingObjects(firstReadingObject, followingVerse);

        // Process the secondReadingObject
        processReadingObjects(secondReadingObject, followingVerse2);

        // Process the thirdReadingObject
        processReadingObjects(thirdReadingObject, followingVerse3);

        // Process the fourthReadingObject
        processReadingObjects(fourthReadingObject, followingVerse4);

        // Define a function to fetch and process reading data
        async function fetchAndProcessReadingData(readingObject, readingText) {
          for (let i = 0; i < readingObject.length; i++) {
            const objectVerses = readingObject[i].verses;
            const bookPath = readingObject[i].book;

            // Fetch the data in the json files
            const response = await fetch(bookPath);
            // Wait for the response to be returned
            const readingData = await response.json();

            // Loop through the book arrays
            for (let x = 0; x < readingData.length; x++) {
              const bookVerse = readingData[x].verse;
              const bookText = readingData[x].text;

              // Loop through objectVerses
              for (let y = 0; y < objectVerses.length; y++) {
                // Check if the json verse is within the range
                if (eval(objectVerses[y])) {
                  const bookLine = '<sup class="sc-ldf-bible-reading">' + bookVerse + '</sup> ' + bookText;
                  // Append the text to the readingText
                  readingText += bookLine;
                };
              };
            };
          };
          return readingText;
        };

        // Call the function for firstReadingObject
        firstReadingText = await fetchAndProcessReadingData(firstReadingObject, firstReadingText);

        // Call the function for secondReadingObject
        secondReadingText = await fetchAndProcessReadingData(secondReadingObject, secondReadingText);

        // Call the function for thirdReadingObject
        thirdReadingText = await fetchAndProcessReadingData(thirdReadingObject, thirdReadingText);

        // Call the function for fourthReadingObject
        fourthReadingText = await fetchAndProcessReadingData(fourthReadingObject, fourthReadingText);

        // Add the readings to the page
        document.getElementById('first_reading').innerHTML += firstReadingText;
        document.getElementById('second_reading').innerHTML += secondReadingText;
        document.getElementById('third_reading').innerHTML += thirdReadingText;
        document.getElementById('fourth_reading').innerHTML += fourthReadingText;

        // Define a function to append content based on Apocrypha and Gospel status
        function appendContent(elementId, isApocrypha, isGospel) {
          const element = document.getElementById(elementId);

          if (isApocrypha) {
            element.innerHTML += "<center><br>Here endeth the Reading.</center>";
          } else if (isGospel) {
            element.innerHTML += "<center><br>The Gospel of the Lord.<br><i>Praise be to thee, O Christ.</i></center>";
          } else {
            element.innerHTML += "<center><br>The Word of the Lord.<br><i>Thanks be to God.</i></center>";
          };
        };

        // Use the function for first_reading
        appendContent('first_reading', apocrypha.includes(frBookName), gospels.includes(frBookName));

        // Use the function for second_reading
        appendContent('second_reading', apocrypha.includes(srBookName), gospels.includes(srBookName));

        // Use the function for third_reading
        appendContent('third_reading', apocrypha.includes(trBookName), gospels.includes(trBookName));

        // Use the function for fourth_reading
        appendContent('fourth_reading', apocrypha.includes(ftrBookName), gospels.includes(ftrBookName));

        // If the fourth reading is not empty...
        if (ftrBookName != "") {
          // Display the part_four div
          document.getElementById('part_four').style.display = "block";
        } else {
          // Hide the part_four div
          document.getElementById('part_four').style.display = "none";
        };

        // Define a function to process the psalms
        function processPsalm(psalmKey, psalmVerses) {
          // Iterate through the psalmKey array
          for (let i = 0; i < psalmKey.length; i++) {
            // Define the key
            const key = psalmKey[i];
            // Define the item with the psalmSlug
            const item = psalmSlug["en-bcp1979-" + key];

            if (item) {
              // Define the name of the psalm
              const psalmNumber = item[0].metadata.localname;
              // Define its Latin name
              const latinName = item[0].metadata.latinname;
              // Give the psalm a header
              let psalmHeader = `<br><span class='subhead'>${psalmNumber}</span><br><i style='color:darkred;'>${latinName}</i><br><br>`;

              // Loop through the verses
              for (let x = 0; x < item[0].value[0].value.length; x++) {
                const verseData = item[0].value[0].value[x];
                // Format each line
                const line = `<sup class="sc-ldf-bible-reading">${verseData.number}</sup> ${verseData.verse}<br>${verseData.halfverse}<br>`;
                // Add each line to the header
                psalmHeader += line;
              };

              // Order psalmHeader according to the psalmKey array
              psalmVerses[psalmKey.indexOf(key)] = `${psalmHeader}<br>Glory be to the Father, and to the Son, and to the<br>Holy Ghost: as it was in the beginning, is now, and<br>ever shall be, world without end. <i>Amen.</i><br>`;
            };
          };
        };

        // Process morning and evening psalms
        processPsalm(morningPsalmKey, morningPsalmVerses);
        processPsalm(eveningPsalmKey, eveningPsalmVerses);

        // Loop through the morningPsalmVerses array
        for (let i = 0; i < morningPsalmVerses.length; i++) {
          // Append the morningPsalmVerses to the morningPsalm div
          document.getElementById('morning_psalm').innerHTML += morningPsalmVerses[i];
        };

        // Loop through the eveningPsalmVerses array
        for (let i = 0; i < eveningPsalmVerses.length; i++) {
          // Append the first eveningPsalmVerses to the eveningPsalm div
          document.getElementById('evening_psalm').innerHTML += eveningPsalmVerses[i];
        };

      };

    </script>
  </body>
</html>
